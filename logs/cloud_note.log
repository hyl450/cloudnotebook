2023-03-10 17:10:13,562:INFO main (SpringApplication.java:650) - The following profiles are active: dev
2023-03-10 17:10:16,881:INFO main (FileHandleConfig.java:36) - 获取到当前jar的所在路径:D:\workspace-person\cloudnotebook
2023-03-10 17:10:16,881:INFO main (FileHandleConfig.java:37) - 获取到ueditor.filePath所在路径:/root/hyl/static/image/upload/ueditor/
2023-03-10 17:10:21,060:INFO main (StartupInfoLogger.java:59) - Started CloudnoteApplication in 9.676 seconds (JVM running for 11.881)
2023-03-10 17:11:13,039:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 17:11:13,909:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1660371295000,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnNotebookName":"数据库","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1677629106000,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnNotebookName":"面试题","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660374794000,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnNotebookName":"学习相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660370018000,"cnNotebookId":"a5d43bed-1980-4b9e-9985-36aee8403305","cnNotebookName":"开发相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660371629000,"cnNotebookId":"ce76fe6e-e604-4ac6-9c1e-df43ad64934b","cnNotebookName":"办公相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记本成功","status":0}
2023-03-10 17:11:13,910:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：871mm
2023-03-10 17:11:15,686:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839"}
2023-03-10 17:11:15,787:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1677629470095,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteLastModifyTime":1677629470095,"cnNoteStatusId":"1","cnNoteTitle":"mybatis一级缓存和二级缓存","cnNoteTypeId":"1","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677629131083,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteLastModifyTime":1677629191800,"cnNoteStatusId":"1","cnNoteTitle":"什么是悲观锁和乐观锁","cnNoteTypeId":"129","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 17:11:15,787:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：101mm
2023-03-10 17:11:17,463:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215"}
2023-03-10 17:11:18,627:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"","cnNoteCreateTime":1677629470095,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteLastModifyTime":1677629470095,"cnNoteStatusId":"1","cnNoteTitle":"mybatis一级缓存和二级缓存","cnNoteTypeId":"1","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},"msg":"打开笔记成功","status":0}
2023-03-10 17:11:18,627:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：1164mm
2023-03-10 17:11:28,770:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/moveNote.do,方法:POST,参数:{"cnNoteNewbookId":"0fd00ce9-7448-436f-830d-7467ba874c24","serialVersionUID":1,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215"}
2023-03-10 17:11:28,805:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"msg":"移动笔记成功","status":0}
2023-03-10 17:11:28,806:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：36mm
2023-03-10 17:11:28,816:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839"}
2023-03-10 17:11:28,824:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1677629131083,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteLastModifyTime":1677629191800,"cnNoteStatusId":"1","cnNoteTitle":"什么是悲观锁和乐观锁","cnNoteTypeId":"129","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 17:11:28,824:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：8mm
2023-03-10 17:11:30,320:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24"}
2023-03-10 17:11:30,329:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1677629470095,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteLastModifyTime":1677629470095,"cnNoteStatusId":"1","cnNoteTitle":"mybatis一级缓存和二级缓存","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400106741,"cnNoteId":"4e55265d-c473-4786-a1cb-a6fadb2ba50d","cnNoteLastModifyTime":1660400115254,"cnNoteStatusId":"1","cnNoteTitle":"打增量","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400374473,"cnNoteId":"5b74988a-54ae-4f04-a2c7-6c9a648f2dc6","cnNoteLastModifyTime":1660400382628,"cnNoteStatusId":"1","cnNoteTitle":"给A00000SYS配1479模块的权限","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400137554,"cnNoteId":"a53039ac-c9a9-4236-b22e-2317e814f083","cnNoteLastModifyTime":1675216157843,"cnNoteStatusId":"1","cnNoteTitle":"数据库TNS校正版","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400161417,"cnNoteId":"f7a393e7-4197-49e1-9376-c3fac6f2cd65","cnNoteLastModifyTime":1660400167805,"cnNoteStatusId":"1","cnNoteTitle":"跨业务区办理业务","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 17:11:30,330:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：10mm
2023-03-10 17:11:32,899:INFO http-nio-8088-exec-2 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215"}
2023-03-10 17:11:32,907:INFO http-nio-8088-exec-2 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"","cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteTitle":"mybatis一级缓存和二级缓存"},"msg":"打开笔记成功","status":0}
2023-03-10 17:11:32,908:INFO http-nio-8088-exec-2 (LogAop.java:73) - 执行时长：9mm
2023-03-10 17:11:41,186:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/moveNote.do,方法:POST,参数:{"cnNoteNewbookId":"3a1ceffa-ac75-4800-8957-faacd1211839","serialVersionUID":1,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215"}
2023-03-10 17:11:41,194:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"msg":"移动笔记成功","status":0}
2023-03-10 17:11:41,194:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：8mm
2023-03-10 17:11:41,203:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24"}
2023-03-10 17:11:41,211:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1660400106741,"cnNoteId":"4e55265d-c473-4786-a1cb-a6fadb2ba50d","cnNoteLastModifyTime":1660400115254,"cnNoteStatusId":"1","cnNoteTitle":"打增量","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400374473,"cnNoteId":"5b74988a-54ae-4f04-a2c7-6c9a648f2dc6","cnNoteLastModifyTime":1660400382628,"cnNoteStatusId":"1","cnNoteTitle":"给A00000SYS配1479模块的权限","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400137554,"cnNoteId":"a53039ac-c9a9-4236-b22e-2317e814f083","cnNoteLastModifyTime":1675216157843,"cnNoteStatusId":"1","cnNoteTitle":"数据库TNS校正版","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400161417,"cnNoteId":"f7a393e7-4197-49e1-9376-c3fac6f2cd65","cnNoteLastModifyTime":1660400167805,"cnNoteStatusId":"1","cnNoteTitle":"跨业务区办理业务","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 17:11:41,212:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：9mm
2023-03-10 17:12:31,307:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"4e55265d-c473-4786-a1cb-a6fadb2ba50d"}
2023-03-10 17:12:31,321:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<div>1.需要打增量表列表</div><div>AC_CONUSER_INFO_CHG</div><div>AC_USERTRANS_INFO_CHG</div><div>PD_USERPRCATTR_INFO_CHG</div><div>PD_USERPRCSP_INFO_CHG</div><div>PD_USERPRC_INFO_CHG</div><div>PD_USERSVCTRACE_INFO_CHG</div><div>PD_USERSVC_INFO_CHG</div><div>---*注意*----</div><div>--*以上四表，注意更新生效时间的时候，不能打更新操作的增量。（生效时间不能变更）*--</div><div>UR_USERBRAND_REL_CHG</div><div>UR_USERGROUPMBR_INFO_CHG</div><div>UR_USERGROUP_INFO_CHG</div><div>UR_USERTEAMMBR_INFO_CHG</div><div>UR_USERTEAM_INFO_CHG</div><div>UR_USER_INFO_CHG</div><div>如果服务、资费等几个pd的表 刷的话 要先刷资费</div><div>2.根据下面的字段含义可以结合每个CHG表有哪些字段，从而知道该表同步哪些增量</div><div>同步计费的增量需要注意，因为可能只同步某几个字段，表主键与源表有出入，如果手工刷新数据，涉及更新计费内存数据主键时需要注意。</div><div>一般生效时间是不能修改的，需要删除后再插入，失效时间可以更新。</div><div>Name&nbsp;&nbsp;&nbsp;&nbsp;Code&nbsp;&nbsp;&nbsp;&nbsp;Data Type&nbsp;&nbsp;&nbsp;&nbsp;Length&nbsp;&nbsp;&nbsp;&nbsp;Precision&nbsp;&nbsp;&nbsp;&nbsp;Mandatory&nbsp;&nbsp;&nbsp;&nbsp;Primary Identifier&nbsp;&nbsp;&nbsp;&nbsp;Displayed&nbsp;&nbsp;&nbsp;&nbsp;Domain</div><div>同步账务增量信息&nbsp;&nbsp;&nbsp;&nbsp;A_ERRMSG&nbsp;&nbsp;&nbsp;&nbsp;Variable characters (256)&nbsp;&nbsp;&nbsp;&nbsp;256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;TRUE&nbsp;&nbsp;&nbsp;&nbsp;&lt;None&gt;</div><div>同步计费增量信息&nbsp;&nbsp;&nbsp;&nbsp;B_ERRMSG&nbsp;&nbsp;&nbsp;&nbsp;Variable characters (256)&nbsp;&nbsp;&nbsp;&nbsp;256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;TRUE&nbsp;&nbsp;&nbsp;&nbsp;&lt;None&gt;</div><div>同步网关增量信息&nbsp;&nbsp;&nbsp;&nbsp;O_ERRMSG&nbsp;&nbsp;&nbsp;&nbsp;Variable characters (256)&nbsp;&nbsp;&nbsp;&nbsp;256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;TRUE&nbsp;&nbsp;&nbsp;&nbsp;&lt;None&gt;</div><div>同步OCS增量信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C_ERRMSG&nbsp;&nbsp;&nbsp;&nbsp;Variable characters (256)&nbsp;&nbsp;&nbsp;&nbsp;256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;TRUE&nbsp;&nbsp;&nbsp;&nbsp;&lt;None&gt;</div><div>3.操作说明：</div><div>（1）OPER_TYPE为‘X’更新操作：&nbsp;&nbsp;&nbsp;</div><div>ORDER_ID 填订单行编号</div><div>where条件可以自己选择为需要更新的那条记录，可以选择只刷新需要更新的表的增量。</div><div>先在物理数据库中更新，然后刷增量，刷增量前先保证物理数据库的记录是正确的。</div><div>（2）插入操作类似。OPER_TYPE为‘I’</div><div>（3）删除操作：OPER_TYPE为‘D’</div><div>--*注意*--</div><div>要刷新删除操作的增量，需要先刷新增量，再在物理数据库做删除操作。</div><div>不可以将更新操作拆分为先删除后插入来刷新增量，因为不是一个事务。</div><div>--*注意*--PD_USERPRCSP_INFO&nbsp;&nbsp;pd_userprcsp_info_chg</div><div>如果更新sp业务(PD_USERPRCSP_INFO_92)，要刷新服务实例表的增量(pd_usersvc_info_chg)，刷新对应的服务实例。</div><div>sp资费表的增量删除操作，现增加PD_USERPRCSP_INFO_CHG，若是删除操作，需要打PD_USERPRCSP_INFO_CHG增量。</div><div>tsql</div><div>select * from dba_tables</div><div>select * from user_bill_plan where&nbsp;&nbsp;msisdn=&#39;&#39;;</div><div>--</div><div>Insert into pd_userprcsp_info_chg</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(PRODPRCINS_ID, ID_NO, OTHER_SVCNUM, SP_ID, BUSI_CODE, SPCHANGE_FLAG, OP_SOURCE, LOGIN_ACCEPT, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;PRODPRCINS_ID, ID_NO, OTHER_SVCNUM, SP_ID, BUSI_CODE, SPCHANGE_FLAG, OP_SOURCE, LOGIN_ACCEPT,&#39;L2210050100004614&#39; ORDER_ID, &#39;D&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;</div><div>from&nbsp;&nbsp;pd_userprcsp_info_22</div><div>where&nbsp;&nbsp;PRODPRCINS_ID=29000023454344;</div><div>--资费属性</div><div>Insert into PD_USERPRCATTR_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(PRODPRCINS_ID, ATTR_ID, ATTR_NO, ATTR_VALUE, GRP_NO, PROD_PRCID, ID_NO, EFF_DATE, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, FINISH_FLAG, SERV_ORDER_ID, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;PRODPRCINS_ID, ATTR_ID, ATTR_NO, ATTR_VALUE, GRP_NO, PROD_PRCID, ID_NO, EFF_DATE, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, FINISH_FLAG, SERV_ORDER_ID,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;</div><div>from PD_USERPRCATTR_INFO</div><div>where id_no=22999999999974;</div><div>----</div><div>Insert into&nbsp;&nbsp;PD_USERSVCATTRTRACE_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(SVCINS_ID, ID_NO, SVC_ID, ATTR_NO, ATTR_ID, EFF_DATE, ATTR_VALUE, GRP_NO, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, SERV_ORDER_ID, FINISH_FLAG, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>&nbsp;&nbsp;&nbsp;select&nbsp;&nbsp;SVCINS_ID, ID_NO, SVC_ID, ATTR_NO, ATTR_ID, EFF_DATE, ATTR_VALUE, GRP_NO, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, SERV_ORDER_ID, FINISH_FLAG,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>&nbsp;&nbsp;&nbsp;from PD_USERSVCATTRTRACE_INFO where id_no=&#39;&#39;;</div><div>--资费信息&nbsp;&nbsp;先做</div><div>Insert into PD_USERPRC_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(PRODPRCINS_ID, ID_NO, RELPRCINS_ID, PROD_PRCID, PROD_ID, PRICING_ID, EFF_DATE, EXP_DATE, STATE, STATE_DATE, LOGIN_NO, LOGIN_ACCEPT, GROUP_ID, TEAM_ID, PROD_MAIN_FLAG, SERV_ORDER_ID, DEVELOP_LOGIN, OP_TIME, OP_CODE, FINISH_FLAG, TRANPRCINS_ID, MEMBER_ID, PARPRC_ID, ORDER_DATE, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;PRODPRCINS_ID, ID_NO, RELPRCINS_ID, PROD_PRCID, PROD_ID, PRICING_ID, EFF_DATE, EXP_DATE, STATE, STATE_DATE, LOGIN_NO, LOGIN_ACCEPT, GROUP_ID, TEAM_ID, PROD_MAIN_FLAG, SERV_ORDER_ID, DEVELOP_LOGIN, OP_TIME, OP_CODE, FINISH_FLAG, TRANPRCINS_ID, MEMBER_ID, PARPRC_ID, ORDER_DATE,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;</div><div>from PD_USERPRC_INFO_74</div><div>where id_no=22999999999974;</div><div>--服务轨迹</div><div>Insert into PD_USERSVCTRACE_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(SVCINS_ID, PRODPRCINS_ID, ID_NO, SVC_ID, SVC_TYPE, EFF_DATE, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, SERV_ORDER_ID, FINISH_FLAG, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;SVCINS_ID, PRODPRCINS_ID, ID_NO, SVC_ID, SVC_TYPE, EFF_DATE, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, SERV_ORDER_ID, FINISH_FLAG,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>from PD_USERSVCTRACE_INFO_74</div><div>where id_no=22999999999974;</div><div>insert into PD_USERSVCATTR_INFO_chg (ID_NO, SVC_ID, ATTR_ID, ATTR_NO, ATTR_VALUE, GRP_NO, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, FINISH_FLAG, SERV_ORDER_ID, SVCINS_ID, ORDER_ID, OPER_TYPE, INSERT_TIME,&nbsp;&nbsp;DEAL_FLAG)</div><div>select&nbsp;&nbsp;ID_NO, SVC_ID, ATTR_ID, ATTR_NO, ATTR_VALUE, GRP_NO, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, FINISH_FLAG, SERV_ORDER_ID, SVCINS_ID, &#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE, SYSDATE INSERT_TIME, &#39;00000&#39; DEAL_FLAG</div><div>from PD_USERSVCATTR_INFO&nbsp;&nbsp;where id_no=18310003518511;</div><div>--服务实例 PD_USERSVC_INFO_CHG</div><div>Insert into pd_usersvc_info_chg</div><div>(ID_NO,SVC_ID,CREATE_DATE,STATE,LOGIN_ACCEPT,SERV_ORDER_ID,OP_TIME,OP_CODE,FINISH_FLAG,SVC_TYPE,STATE_DATE,LOGIN_NO,ORDER_ID,OPER_TYPE,INSERT_TIME,DEAL_FLAG)</div><div>select a.*,&#39;L2410060600009069&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>from pd_usersvc_info_74 a where id_no=22999999999974 and svc_id=&#39;BS0094&#39;;</div><div>--账户信息</div><div>insert into ac_contract_info_chg</div><div>(CONTRACT_NO,CUST_ID,STATUS_CODE,STATUS_TIME,ACCOUNT_TYPE,PAY_CODE,CONTRACT_NAME,CONTRACT_PASSWD,ACCOUNT_LIMIT,GROUP_ID,FINISH_FLAG,OP_CODE,OP_TIME,LOGIN_NO,LOGIN_ACCEPT,REPRESENT_PHONE,CONTRACTATT_TYPE,CONTRACT_NAME_ENCRYPT,</div><div>ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select</div><div>CONTRACT_NO,CUST_ID,STATUS_CODE,STATUS_TIME,ACCOUNT_TYPE,PAY_CODE,CONTRACT_NAME,CONTRACT_PASSWD,ACCOUNT_LIMIT,GROUP_ID,FINISH_FLAG,OP_CODE,OP_TIME,LOGIN_NO,LOGIN_ACCEPT,REPRESENT_PHONE,CONTRACTATT_TYPE,CONTRACT_NAME_ENCRYPT,</div><div>&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>from ac_contract_info;</div><div>--账务关系</div><div>Insert into AC_CONUSER_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(SERV_ACCT_ID, CONTRACT_NO, ACCT_ITEMS, PAY_TYPE, PAY_VALUE, CHKOUT_PRI, BILL_ORDER, ID_NO, EFF_DATE, EXP_DATE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;SERV_ACCT_ID, CONTRACT_NO, ACCT_ITEMS, PAY_TYPE, PAY_VALUE, CHKOUT_PRI, BILL_ORDER, ID_NO, EFF_DATE, EXP_DATE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT,&#39;L2210072300004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>from AC_CONUSER_INFO</div><div>where id_no=22999999999974;</div><div>--用户品牌</div><div>Insert into UR_USERBRAND_REL_CHG</div><div>&nbsp;&nbsp;&nbsp;(ID_NO, BRAND_ID, EFF_DATE, EXP_DATE, FINISH_FLAG, LOGIN_NO, LOGIN_ACCEPT, OP_CODE, OP_TIME, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select ID_NO, BRAND_ID, EFF_DATE, EXP_DATE, FINISH_FLAG, LOGIN_NO, LOGIN_ACCEPT, OP_CODE, OP_TIME, &#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;from UR_USERBRAND_REL</div><div>where id_no=22999999999974;</div><div>Insert into UR_USERBRAND_REL_CHG</div><div>&nbsp;&nbsp;&nbsp;(ID_NO, BRAND_ID, EFF_DATE, EXP_DATE, FINISH_FLAG, LOGIN_NO, LOGIN_ACCEPT, OP_CODE, OP_TIME, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select ID_NO, BRAND_ID, EFF_DATE, EXP_DATE, FINISH_FLAG, LOGIN_NO, LOGIN_ACCEPT, OP_CODE, OP_TIME, &#39;L2210051700020267&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;from UR_USERBRAND_REL</div><div>where id_no=22999999999912;</div><div>--组成员</div><div>Insert into UR_USERTEAMMBR_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(MEMBER_ID, TEAM_ID, MEMBER_ROLE_ID, OBJECT_ID, STATE, STATE_DATE, EFF_DATE, EXP_DATE, MEMBER_DESC, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, ORDER_ID, OPER_TYPE, INSERT_TIME,DEAL_FLAG)</div><div>select MEMBER_ID, TEAM_ID, MEMBER_ROLE_ID, OBJECT_ID, STATE, STATE_DATE, EFF_DATE, EXP_DATE, MEMBER_DESC, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, &#39;L2210050100004614&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;</div><div>from UR_USERTEAMMBR_INFO</div><div>where login_accept = &#39;60000010043512&#39;;</div><div>--用户信息增量</div><div>Insert into UR_USER_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(ID_NO, PHONE_NO, CONTRACT_NO, CUST_ID, RUN_CODE, RUN_TIME, OWNER_TYPE, USER_GRADE_CODE, STOP_FLAG, OWED_FLAG, BILLING_CYCLE_TYPE_ID, BILL_TYPE, GROUP_FLAG, USER_PASSWD, PASSWD_TYPE, CREDIT_CODE, LIMIT_OWE, CMD_RIGHT, ASSURE_FLAG, CREATE_DATE, CREATE_LOGIN, GROUP_ID, OWNED_CHNL_ID, SERVICE_GROUP, COMPLETED_DATE, OPEN_TIME, BILL_START_TIME, BILL_END_TIME, FIRST_USEDATE, RENT_DATE, STOP_RENT_DATE, PHOTO_FLAG, CARD_TYPE, VIP_CARD_NO, VIP_CREATE_TYPE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, BAK_FIELD, MASTER_SERV_ID, OLD_RUN, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;ID_NO, PHONE_NO, CONTRACT_NO, CUST_ID, RUN_CODE, RUN_TIME, OWNER_TYPE, USER_GRADE_CODE, STOP_FLAG, OWED_FLAG, BILLING_CYCLE_TYPE_ID, BILL_TYPE, GROUP_FLAG, USER_PASSWD, PASSWD_TYPE, CREDIT_CODE, LIMIT_OWE, CMD_RIGHT, ASSURE_FLAG, CREATE_DATE, CREATE_LOGIN, GROUP_ID, OWNED_CHNL_ID, SERVICE_GROUP, COMPLETED_DATE, OPEN_TIME, BILL_START_TIME, BILL_END_TIME, FIRST_USEDATE, RENT_DATE, STOP_RENT_DATE, PHOTO_FLAG, CARD_TYPE, VIP_CARD_NO, VIP_CREATE_TYPE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, BAK_FIELD, MASTER_SERV_ID, OLD_RUN,&#39;L2210050100004614&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from UR_USER_INFO</div><div>where id_no=22999999999974;</div><div>--组实例增量</div><div>Insert into UR_USERTEAM_INFO_CHG</div><div>(TEAM_ID, ID_NO, TEAM_TYPE, TEAM_NAME, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, EFF_DATE, EXP_DATE, STATE, STATE_DATE, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select TEAM_ID, ID_NO, TEAM_TYPE, TEAM_NAME, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, EFF_DATE, EXP_DATE, STATE, STATE_DATE, &#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from&nbsp;&nbsp;UR_USERTEAM_INFO</div><div>where&nbsp;&nbsp;team_id=&#39;60009743402&#39;;</div><div>--组成员 增量</div><div>Insert into UR_USERTEAMMBR_INFO_chg</div><div>(MEMBER_ID, TEAM_ID, MEMBER_ROLE_ID, OBJECT_ID, STATE, STATE_DATE, EFF_DATE, EXP_DATE, MEMBER_DESC, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;</div><div>MEMBER_ID, TEAM_ID, MEMBER_ROLE_ID, OBJECT_ID, STATE, STATE_DATE, EFF_DATE, EXP_DATE, MEMBER_DESC, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, &#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from UR_USERTEAMMBR_INFO</div><div>where&nbsp;&nbsp;&nbsp;MEMBER_ID=&nbsp;&nbsp;and TEAM_ID=;</div><div>---</div><div>Insert into UR_USERGROUP_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(GROUP_ID, GROUP_TYPE, ID_NO, GROUP_CODE, GROUP_DESC, LOCK_FLAG, FINISH_FLAG, LOGIN_ACCEPT, LOGIN_NO, OP_TIME, OP_CODE, EFF_DATE, EXP_DATE, STATE, STATE_DATE, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select GROUP_ID, GROUP_TYPE, ID_NO, GROUP_CODE, GROUP_DESC, LOCK_FLAG, FINISH_FLAG, LOGIN_ACCEPT, LOGIN_NO, OP_TIME, OP_CODE, EFF_DATE, EXP_DATE, STATE, STATE_DATE,&#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from UR_USERGROUP_INFO</div><div>where GROUP_ID= ;</div><div>---群成员&nbsp;&nbsp;</div><div>INSERT INTO UR_USERGROUPMBR_INFO_CHG</div><div>(MEMBER_ID, GROUP_ID, MEMBER_ROLE_ID, OBJECT_TYPE, OBJECT_ID, LOCK_FLAG, STATE, STATE_DATE, MEMBER_DESC, EFF_DATE, EXP_DATE, FINISH_FLAG, OP_CODE, LOGIN_NO, OP_TIME, LOGIN_ACCEPT,ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>SELECT MEMBER_ID, GROUP_ID, MEMBER_ROLE_ID, OBJECT_TYPE, OBJECT_ID, LOCK_FLAG, STATE, STATE_DATE, MEMBER_DESC, EFF_DATE, EXP_DATE, FINISH_FLAG, OP_CODE, LOGIN_NO, OP_TIME, LOGIN_ACCEPT, &#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>FROM UR_USERGROUPMBR_INFO</div><div>WHERE MEMBER_ID=2600081475;</div><div>INSERT INTO ur_billday_info_chg</div><div>(contract_no,id_no,phone_no,bill_day,eff_date,exp_date,dur_flag,ORDER_ID,OPER_TYPE,INSERT_TIME,order_level)</div><div>select</div><div>contract_no,id_no,phone_no,bill_day,eff_date,exp_date,dur_flag,&#39;L2210050100004614&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;10&#39; as order_level</div><div>from ${owner}.UR_BILLDAY_INFO_TT${BATCH}</div><div>where CITY in ${citylist};</div><div>--亲情号码：</div><div>&nbsp;&nbsp;INSERT INTO PD_USERPRCATTR_INFO_CHG</div><div>(PRODPRCINS_ID,ATTR_ID,ATTR_NO,ATTR_VALUE,GRP_NO,PROD_PRCID,ID_NO,EFF_DATE,EXP_DATE,LOGIN_NO,</div><div>LOGIN_ACCEPT,OP_TIME,OP_CODE,FINISH_FLAG,SERV_ORDER_ID,ORDER_ID,OPER_TYPE,INSERT_TIME,DEAL_FLAG)</div><div>SELECT</div><div>PRODPRCINS_ID,ATTR_ID,ATTR_NO,ATTR_VALUE,GRP_NO,PROD_PRCID,ID_NO,EFF_DATE,EXP_DATE,LOGIN_NO,</div><div>LOGIN_ACCEPT,OP_TIME,OP_CODE,FINISH_FLAG,SERV_ORDER_ID,&#39;L201006090022&#39; ORDER_ID,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;U&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>FROM PD_USERPRCATTR_INFO</div><div>WHERE&nbsp;&nbsp;&nbsp;prod_prcid=&#39;PIBP12571&#39;&nbsp;&nbsp;and&nbsp;&nbsp;&nbsp;attr_id =any(&#39;P142&#39;,&#39;P160&#39;);</div><div>--转移关系表</div><div>Insert into AC_USERTRANS_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(FROM_ID_NO, FROM_PHONE_NO, ACCT_ITEM, TO_ID_NO, TO_PHONE_NO, TRANS_TYPE, EFF_DATE, EXP_DATE, LOGIN_NO, OP_TIME, REMARK, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG, LOGIN_ACCEPT)</div><div>select FROM_ID_NO, FROM_PHONE_NO, ACCT_ITEM, TO_ID_NO, TO_PHONE_NO, TRANS_TYPE, EFF_DATE, EXP_DATE, LOGIN_NO, OP_TIME, REMARK, &#39;L2210050100000807&#39; ORDER_ID, &#39;D&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG,LOGIN_ACCEPT</div><div>&nbsp;&nbsp;from&nbsp;&nbsp;AC_USERTRANS_INFO</div><div>&nbsp;&nbsp;</div><div>&nbsp;&nbsp;</div><div>&nbsp;&nbsp;</div><div>&nbsp;&nbsp;select * from DBACCADM.PD_BILLPRCPLAN_BILL</div><div>where bill_prcid in (&#39;00757&#39;,&#39;00808&#39;,&#39;A0534SM&#39;,&#39;A0518MN&#39;,&#39;00782&#39;,&#39;00065GP&#39;);</div><div>update ur_user_info a&nbsp;&nbsp;&nbsp;set&nbsp;&nbsp;a.bill_start_time=</div><div>(select b.begin_time FROM UR_USEREXPIRE_INFO b&nbsp;&nbsp;where&nbsp;&nbsp;&nbsp;&nbsp;b.EXPIRE_TYPE = &#39;1&#39; and a.id_no=b.id_no and b.begin_time&lt;&gt;a.bill_start_time)and a.id_no=b.id_no)&nbsp;&nbsp;</div><div>where exists (select 1 from UR_USEREXPIRE_INFO b where a.id_no=b.id_no and b.EXPIRE_TYPE = &#39;1&#39;and b.begin_time&lt;&gt;a.bill_start_time );</div><div>Insert into UR_USER_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(ID_NO, PHONE_NO, CONTRACT_NO, CUST_ID, RUN_CODE, RUN_TIME, OWNER_TYPE, USER_GRADE_CODE, STOP_FLAG, OWED_FLAG, BILLING_CYCLE_TYPE_ID, BILL_TYPE, GROUP_FLAG, USER_PASSWD, PASSWD_TYPE, CREDIT_CODE, LIMIT_OWE, CMD_RIGHT, ASSURE_FLAG, CREATE_DATE, CREATE_LOGIN, GROUP_ID, OWNED_CHNL_ID, SERVICE_GROUP, COMPLETED_DATE, OPEN_TIME, BILL_START_TIME, BILL_END_TIME, FIRST_USEDATE, RENT_DATE, STOP_RENT_DATE, PHOTO_FLAG, CARD_TYPE, VIP_CARD_NO, VIP_CREATE_TYPE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, BAK_FIELD, MASTER_SERV_ID, OLD_RUN, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;ID_NO, PHONE_NO, CONTRACT_NO, CUST_ID, RUN_CODE, RUN_TIME, OWNER_TYPE, USER_GRADE_CODE, STOP_FLAG, OWED_FLAG, BILLING_CYCLE_TYPE_ID, BILL_TYPE, GROUP_FLAG, USER_PASSWD, PASSWD_TYPE, CREDIT_CODE, LIMIT_OWE, CMD_RIGHT, ASSURE_FLAG, CREATE_DATE, CREATE_LOGIN, GROUP_ID, OWNED_CHNL_ID, SERVICE_GROUP, COMPLETED_DATE, OPEN_TIME, BILL_START_TIME, BILL_END_TIME, FIRST_USEDATE, RENT_DATE, STOP_RENT_DATE, PHOTO_FLAG, CARD_TYPE, VIP_CARD_NO, VIP_CREATE_TYPE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, BAK_FIELD, MASTER_SERV_ID, OLD_RUN,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from UR_USER_INFO a</div><div>where id_no in&nbsp;&nbsp;(select a.id_No FROM UR_USEREXPIRE_INFO b&nbsp;&nbsp;where&nbsp;&nbsp;&nbsp;&nbsp;b.EXPIRE_TYPE = &#39;1&#39; and a.id_no=b.id_no and b.begin_time&lt;&gt;a.bill_start_time);</div><div>&quot;update ur_user_info a</div><div>&nbsp;&nbsp;&nbsp;set a.bill_start_time = (select b.begin_time</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from UR_USEREXPIRE_INFO b</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where a.id_no = b.id_no</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and to_char(b.begin_time,&#39;yyyymmdd&#39;) &lt;&gt; to_char( a.bill_start_time,&#39;yyyymmdd&#39;) and a.master_serv_id =&#39;1002&#39;&nbsp;&nbsp;&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and b.EXPIRE_TYPE = &#39;1&#39; )</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div>where exists (select 1</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from UR_USEREXPIRE_INFO b</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where a.id_no = b.id_no</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and to_char(b.begin_time,&#39;yyyymmdd&#39;) &lt;&gt; to_char( a.bill_start_time,&#39;yyyymmdd&#39;)&nbsp;&nbsp;and a.master_serv_id =&#39;1002&#39;&nbsp;&nbsp;&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and b.EXPIRE_TYPE = &#39;1&#39; );&quot;</div><div>A库；6813&nbsp;&nbsp;</div><div>B库：791</div><div>select * from IN_CBTABLE_SYNC_RELATION where source_table like &#39;%UR_SERVADDNUM_INFO%&#39;</div><div>资费关系打增量</div><div style=\"font-size: 14px; white-space: normal; widows: 1;\"><span style=\"font-family: &quot;Microsoft YaHei UI&quot;; font-variant-numeric: normal; font-variant-east-asian: normal; line-height: 21px;\">----WRES&nbsp;执行</span></div><div style=\"font-size: 14px; white-space: normal; widows: 1;\"><div><span style=\"font-family: &quot;Microsoft YaHei UI&quot;; font-variant-numeric: normal; font-variant-east-asian: normal; line-height: 21px;\">INSERT&nbsp;INTO&nbsp;PD_PRCRELTRIG_INFO(ELEMENT_TYPEA,&nbsp;ELEMENT_IDA,&nbsp;ELEMENT_TYPEB,&nbsp;ELEMENT_IDB,&nbsp;GROUP_ID,&nbsp;RELATION_TYPE,&nbsp;CHANNEL_TYPE,&nbsp;BASE_TIME_TYPE,&nbsp;EFF_RULE_ID,&nbsp;EXP_RULE_ID,&nbsp;CTRL_TYPE,&nbsp;CTRL_CODE,&nbsp;EFF_DATE,&nbsp;EXP_DATE,&nbsp;POWER_RIGHT,&nbsp;POSITIVE_TYPE,&nbsp;BOTHWAY_FLAG,&nbsp;CREATE_LOGIN,&nbsp;CREATE_TIME,&nbsp;VERSION,&nbsp;TENANTID,&nbsp;OP_TYPE,&nbsp;FINISH_TIME,&nbsp;OP_CODE,&nbsp;LOGIN_ACCEPT,&nbsp;OP_TIME,&nbsp;LOGIN_NO,&nbsp;REMARK,&nbsp;DSP_UPDATE_TIME,&nbsp;DSP_ACCEPT,&nbsp;DSP_STATUS,&nbsp;DSP_POSITION)</span></div><div><span style=\"font-family: &quot;Microsoft YaHei UI&quot;; font-variant-numeric: normal; font-variant-east-asian: normal; line-height: 21px;\">values(&#39;1&#39;,&#39;PIBP7700216&#39;,&nbsp;&#39;1&#39;,&nbsp;&nbsp;&#39;X&#39;,&nbsp;&#39;10017&#39;,&nbsp;&#39;10&#39;,&#39;1&#39;,&#39;0&#39;,&nbsp;&#39;1001&#39;,&nbsp;&#39;1023&#39;,&nbsp;&#39;0&#39;,&#39;0&#39;,SYSDATE,&nbsp;to_date(&#39;31-12-2099&nbsp;23:59:59&#39;,&nbsp;&#39;dd-mm-yyyy&nbsp;hh24:mi:ss&#39;),&nbsp;11,&nbsp;&#39;1&#39;,&nbsp;&#39;0&#39;,&nbsp;&#39;system&#39;,&nbsp;SYSDATE,&nbsp;1.0,&nbsp;&#39;0&#39;,&nbsp;&#39;A&#39;,&nbsp;SYSDATE,&nbsp;&#39;0000&#39;,&nbsp;null,&nbsp;SYSDATE,&nbsp;&#39;system&#39;,&nbsp;&#39;test&#39;,&nbsp;SYSDATE,&nbsp;null,&nbsp;&#39;0&#39;,&nbsp;&#39;0&#39;);</span></div></div><p><br/></p>","cnNoteId":"4e55265d-c473-4786-a1cb-a6fadb2ba50d","cnNoteTitle":"打增量"},"msg":"打开笔记成功","status":0}
2023-03-10 17:12:31,323:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：16mm
2023-03-10 17:12:34,753:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/shareNote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"4e55265d-c473-4786-a1cb-a6fadb2ba50d"}
2023-03-10 17:12:34,856:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"msg":"分享笔记成功","status":0}
2023-03-10 17:12:34,857:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：104mm
2023-03-10 17:12:38,111:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:
2023-03-10 17:12:38,122:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteBody":"<div>&gt;CS_CRMA</div><div>DBCUSTOPR/jwu7fCnx@(DESCRIPTION=(ADDRESS_LIST=(FAILOVER=ON)(LOAD_BALANCE=OFF)(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.55)(PORT=1521)))(CONNECT_DATA=(SERVICE_NAME=actcrma)))</div><div>&gt;CS_CRMB</div><div>DBCUSTOPR/jwu7fCnx@(DESCRIPTION=(ADDRESS_LIST=(FAILOVER=ON)(LOAD_BALANCE=OFF)(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.56)(PORT=1521)))(CONNECT_DATA=(SERVICE_NAME=actcrmb)))</div><div>&gt;CS_CENTER</div><div>DBCUSTOPR/jwu7fCnx@(DESCRIPTION=(ADDRESS_LIST=(FAILOVER=ON)(LOAD_BALANCE=OFF)(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.57)(PORT=1521)))(CONNECT_DATA=(SERVICE_NAME=actcase)))</div><div>&gt;CS_CENTER(OLD)</div><div>DBCUSTOPR/jwu7fCnx@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=152.55.229.209)(PORT=1521))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=CENTER)))</div><div>&gt;CS_ORDER</div><div>DBORDERADM/DBORDERADM@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=152.55.229.208)(PORT=1522))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=qudao)))</div><div>&gt;CS_BOSSA</div><div>dbaccopr/Lf5k3rcf@(DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = 10.243.208.65)(PORT = 1521)) (CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME = stdwaccta))</div><div>&gt;CS_BOSSB</div><div>dbaccopr/Lf5k3rcf@(DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = 10.243.208.66)(PORT = 1521)) (CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME = stbwacctb)))</div><p><br/></p><p>&gt;ZSC_CRMA</p><div><p>dbcustopr/dbcustopr@(DESCRIPTION =(ADDRESS = (PROTOCOL = TCP)(HOST = 10.243.208.49)(PORT = 1521))(CONNECT_DATA =(SERVER = DEDICATED)(SERVICE_NAME = actcrma)))</p></div><div>&gt;ZSC_CRMB</div><div><p>dbcustopr/dbcustopr@(DESCRIPTION =(ADDRESS = (PROTOCOL = TCP)(HOST = 10.243.208.52)(PORT = 1521))(CONNECT_DATA =(SERVER = DEDICATED)(SERVICE_NAME = actcrmb)))</p></div><div>&gt;ZSC_CENTER</div><div><p>dbcustopr/dbcustopr@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.225)(PORT=1521))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=wres)))</p></div><div>&gt;ZSC_ORDER</div><div>DBORDERADM/DBORDERADM@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.44)(PORT=1521))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=worddb)))</div><div>&gt;ZSC_BOSSA</div><div><p>dbaccopr/dbaccopr@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.50)(PORT=1521))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=waccta)))</p></div><div>&gt;ZSC_BOSSB</div><div>dbaccopr/dbaccopr@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.51)(PORT=1521))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=wacctb)))</div><p><br/></p>","cnNoteId":"a53039ac-c9a9-4236-b22e-2317e814f083","cnNoteTitle":"数据库TNS校正版"},{"cnNoteBody":"<div>1.需要打增量表列表</div><div>AC_CONUSER_INFO_CHG</div><div>AC_USERTRANS_INFO_CHG</div><div>PD_USERPRCATTR_INFO_CHG</div><div>PD_USERPRCSP_INFO_CHG</div><div>PD_USERPRC_INFO_CHG</div><div>PD_USERSVCTRACE_INFO_CHG</div><div>PD_USERSVC_INFO_CHG</div><div>---*注意*----</div><div>--*以上四表，注意更新生效时间的时候，不能打更新操作的增量。（生效时间不能变更）*--</div><div>UR_USERBRAND_REL_CHG</div><div>UR_USERGROUPMBR_INFO_CHG</div><div>UR_USERGROUP_INFO_CHG</div><div>UR_USERTEAMMBR_INFO_CHG</div><div>UR_USERTEAM_INFO_CHG</div><div>UR_USER_INFO_CHG</div><div>如果服务、资费等几个pd的表 刷的话 要先刷资费</div><div>2.根据下面的字段含义可以结合每个CHG表有哪些字段，从而知道该表同步哪些增量</div><div>同步计费的增量需要注意，因为可能只同步某几个字段，表主键与源表有出入，如果手工刷新数据，涉及更新计费内存数据主键时需要注意。</div><div>一般生效时间是不能修改的，需要删除后再插入，失效时间可以更新。</div><div>Name&nbsp;&nbsp;&nbsp;&nbsp;Code&nbsp;&nbsp;&nbsp;&nbsp;Data Type&nbsp;&nbsp;&nbsp;&nbsp;Length&nbsp;&nbsp;&nbsp;&nbsp;Precision&nbsp;&nbsp;&nbsp;&nbsp;Mandatory&nbsp;&nbsp;&nbsp;&nbsp;Primary Identifier&nbsp;&nbsp;&nbsp;&nbsp;Displayed&nbsp;&nbsp;&nbsp;&nbsp;Domain</div><div>同步账务增量信息&nbsp;&nbsp;&nbsp;&nbsp;A_ERRMSG&nbsp;&nbsp;&nbsp;&nbsp;Variable characters (256)&nbsp;&nbsp;&nbsp;&nbsp;256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;TRUE&nbsp;&nbsp;&nbsp;&nbsp;&lt;None&gt;</div><div>同步计费增量信息&nbsp;&nbsp;&nbsp;&nbsp;B_ERRMSG&nbsp;&nbsp;&nbsp;&nbsp;Variable characters (256)&nbsp;&nbsp;&nbsp;&nbsp;256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;TRUE&nbsp;&nbsp;&nbsp;&nbsp;&lt;None&gt;</div><div>同步网关增量信息&nbsp;&nbsp;&nbsp;&nbsp;O_ERRMSG&nbsp;&nbsp;&nbsp;&nbsp;Variable characters (256)&nbsp;&nbsp;&nbsp;&nbsp;256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;TRUE&nbsp;&nbsp;&nbsp;&nbsp;&lt;None&gt;</div><div>同步OCS增量信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C_ERRMSG&nbsp;&nbsp;&nbsp;&nbsp;Variable characters (256)&nbsp;&nbsp;&nbsp;&nbsp;256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;TRUE&nbsp;&nbsp;&nbsp;&nbsp;&lt;None&gt;</div><div>3.操作说明：</div><div>（1）OPER_TYPE为‘X’更新操作：&nbsp;&nbsp;&nbsp;</div><div>ORDER_ID 填订单行编号</div><div>where条件可以自己选择为需要更新的那条记录，可以选择只刷新需要更新的表的增量。</div><div>先在物理数据库中更新，然后刷增量，刷增量前先保证物理数据库的记录是正确的。</div><div>（2）插入操作类似。OPER_TYPE为‘I’</div><div>（3）删除操作：OPER_TYPE为‘D’</div><div>--*注意*--</div><div>要刷新删除操作的增量，需要先刷新增量，再在物理数据库做删除操作。</div><div>不可以将更新操作拆分为先删除后插入来刷新增量，因为不是一个事务。</div><div>--*注意*--PD_USERPRCSP_INFO&nbsp;&nbsp;pd_userprcsp_info_chg</div><div>如果更新sp业务(PD_USERPRCSP_INFO_92)，要刷新服务实例表的增量(pd_usersvc_info_chg)，刷新对应的服务实例。</div><div>sp资费表的增量删除操作，现增加PD_USERPRCSP_INFO_CHG，若是删除操作，需要打PD_USERPRCSP_INFO_CHG增量。</div><div>tsql</div><div>select * from dba_tables</div><div>select * from user_bill_plan where&nbsp;&nbsp;msisdn=&#39;&#39;;</div><div>--</div><div>Insert into pd_userprcsp_info_chg</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(PRODPRCINS_ID, ID_NO, OTHER_SVCNUM, SP_ID, BUSI_CODE, SPCHANGE_FLAG, OP_SOURCE, LOGIN_ACCEPT, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;PRODPRCINS_ID, ID_NO, OTHER_SVCNUM, SP_ID, BUSI_CODE, SPCHANGE_FLAG, OP_SOURCE, LOGIN_ACCEPT,&#39;L2210050100004614&#39; ORDER_ID, &#39;D&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;</div><div>from&nbsp;&nbsp;pd_userprcsp_info_22</div><div>where&nbsp;&nbsp;PRODPRCINS_ID=29000023454344;</div><div>--资费属性</div><div>Insert into PD_USERPRCATTR_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(PRODPRCINS_ID, ATTR_ID, ATTR_NO, ATTR_VALUE, GRP_NO, PROD_PRCID, ID_NO, EFF_DATE, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, FINISH_FLAG, SERV_ORDER_ID, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;PRODPRCINS_ID, ATTR_ID, ATTR_NO, ATTR_VALUE, GRP_NO, PROD_PRCID, ID_NO, EFF_DATE, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, FINISH_FLAG, SERV_ORDER_ID,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;</div><div>from PD_USERPRCATTR_INFO</div><div>where id_no=22999999999974;</div><div>----</div><div>Insert into&nbsp;&nbsp;PD_USERSVCATTRTRACE_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(SVCINS_ID, ID_NO, SVC_ID, ATTR_NO, ATTR_ID, EFF_DATE, ATTR_VALUE, GRP_NO, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, SERV_ORDER_ID, FINISH_FLAG, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>&nbsp;&nbsp;&nbsp;select&nbsp;&nbsp;SVCINS_ID, ID_NO, SVC_ID, ATTR_NO, ATTR_ID, EFF_DATE, ATTR_VALUE, GRP_NO, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, SERV_ORDER_ID, FINISH_FLAG,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>&nbsp;&nbsp;&nbsp;from PD_USERSVCATTRTRACE_INFO where id_no=&#39;&#39;;</div><div>--资费信息&nbsp;&nbsp;先做</div><div>Insert into PD_USERPRC_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(PRODPRCINS_ID, ID_NO, RELPRCINS_ID, PROD_PRCID, PROD_ID, PRICING_ID, EFF_DATE, EXP_DATE, STATE, STATE_DATE, LOGIN_NO, LOGIN_ACCEPT, GROUP_ID, TEAM_ID, PROD_MAIN_FLAG, SERV_ORDER_ID, DEVELOP_LOGIN, OP_TIME, OP_CODE, FINISH_FLAG, TRANPRCINS_ID, MEMBER_ID, PARPRC_ID, ORDER_DATE, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;PRODPRCINS_ID, ID_NO, RELPRCINS_ID, PROD_PRCID, PROD_ID, PRICING_ID, EFF_DATE, EXP_DATE, STATE, STATE_DATE, LOGIN_NO, LOGIN_ACCEPT, GROUP_ID, TEAM_ID, PROD_MAIN_FLAG, SERV_ORDER_ID, DEVELOP_LOGIN, OP_TIME, OP_CODE, FINISH_FLAG, TRANPRCINS_ID, MEMBER_ID, PARPRC_ID, ORDER_DATE,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;</div><div>from PD_USERPRC_INFO_74</div><div>where id_no=22999999999974;</div><div>--服务轨迹</div><div>Insert into PD_USERSVCTRACE_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(SVCINS_ID, PRODPRCINS_ID, ID_NO, SVC_ID, SVC_TYPE, EFF_DATE, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, SERV_ORDER_ID, FINISH_FLAG, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;SVCINS_ID, PRODPRCINS_ID, ID_NO, SVC_ID, SVC_TYPE, EFF_DATE, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, SERV_ORDER_ID, FINISH_FLAG,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>from PD_USERSVCTRACE_INFO_74</div><div>where id_no=22999999999974;</div><div>insert into PD_USERSVCATTR_INFO_chg (ID_NO, SVC_ID, ATTR_ID, ATTR_NO, ATTR_VALUE, GRP_NO, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, FINISH_FLAG, SERV_ORDER_ID, SVCINS_ID, ORDER_ID, OPER_TYPE, INSERT_TIME,&nbsp;&nbsp;DEAL_FLAG)</div><div>select&nbsp;&nbsp;ID_NO, SVC_ID, ATTR_ID, ATTR_NO, ATTR_VALUE, GRP_NO, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, FINISH_FLAG, SERV_ORDER_ID, SVCINS_ID, &#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE, SYSDATE INSERT_TIME, &#39;00000&#39; DEAL_FLAG</div><div>from PD_USERSVCATTR_INFO&nbsp;&nbsp;where id_no=18310003518511;</div><div>--服务实例 PD_USERSVC_INFO_CHG</div><div>Insert into pd_usersvc_info_chg</div><div>(ID_NO,SVC_ID,CREATE_DATE,STATE,LOGIN_ACCEPT,SERV_ORDER_ID,OP_TIME,OP_CODE,FINISH_FLAG,SVC_TYPE,STATE_DATE,LOGIN_NO,ORDER_ID,OPER_TYPE,INSERT_TIME,DEAL_FLAG)</div><div>select a.*,&#39;L2410060600009069&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>from pd_usersvc_info_74 a where id_no=22999999999974 and svc_id=&#39;BS0094&#39;;</div><div>--账户信息</div><div>insert into ac_contract_info_chg</div><div>(CONTRACT_NO,CUST_ID,STATUS_CODE,STATUS_TIME,ACCOUNT_TYPE,PAY_CODE,CONTRACT_NAME,CONTRACT_PASSWD,ACCOUNT_LIMIT,GROUP_ID,FINISH_FLAG,OP_CODE,OP_TIME,LOGIN_NO,LOGIN_ACCEPT,REPRESENT_PHONE,CONTRACTATT_TYPE,CONTRACT_NAME_ENCRYPT,</div><div>ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select</div><div>CONTRACT_NO,CUST_ID,STATUS_CODE,STATUS_TIME,ACCOUNT_TYPE,PAY_CODE,CONTRACT_NAME,CONTRACT_PASSWD,ACCOUNT_LIMIT,GROUP_ID,FINISH_FLAG,OP_CODE,OP_TIME,LOGIN_NO,LOGIN_ACCEPT,REPRESENT_PHONE,CONTRACTATT_TYPE,CONTRACT_NAME_ENCRYPT,</div><div>&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>from ac_contract_info;</div><div>--账务关系</div><div>Insert into AC_CONUSER_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(SERV_ACCT_ID, CONTRACT_NO, ACCT_ITEMS, PAY_TYPE, PAY_VALUE, CHKOUT_PRI, BILL_ORDER, ID_NO, EFF_DATE, EXP_DATE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;SERV_ACCT_ID, CONTRACT_NO, ACCT_ITEMS, PAY_TYPE, PAY_VALUE, CHKOUT_PRI, BILL_ORDER, ID_NO, EFF_DATE, EXP_DATE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT,&#39;L2210072300004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>from AC_CONUSER_INFO</div><div>where id_no=22999999999974;</div><div>--用户品牌</div><div>Insert into UR_USERBRAND_REL_CHG</div><div>&nbsp;&nbsp;&nbsp;(ID_NO, BRAND_ID, EFF_DATE, EXP_DATE, FINISH_FLAG, LOGIN_NO, LOGIN_ACCEPT, OP_CODE, OP_TIME, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select ID_NO, BRAND_ID, EFF_DATE, EXP_DATE, FINISH_FLAG, LOGIN_NO, LOGIN_ACCEPT, OP_CODE, OP_TIME, &#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;from UR_USERBRAND_REL</div><div>where id_no=22999999999974;</div><div>Insert into UR_USERBRAND_REL_CHG</div><div>&nbsp;&nbsp;&nbsp;(ID_NO, BRAND_ID, EFF_DATE, EXP_DATE, FINISH_FLAG, LOGIN_NO, LOGIN_ACCEPT, OP_CODE, OP_TIME, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select ID_NO, BRAND_ID, EFF_DATE, EXP_DATE, FINISH_FLAG, LOGIN_NO, LOGIN_ACCEPT, OP_CODE, OP_TIME, &#39;L2210051700020267&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;from UR_USERBRAND_REL</div><div>where id_no=22999999999912;</div><div>--组成员</div><div>Insert into UR_USERTEAMMBR_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(MEMBER_ID, TEAM_ID, MEMBER_ROLE_ID, OBJECT_ID, STATE, STATE_DATE, EFF_DATE, EXP_DATE, MEMBER_DESC, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, ORDER_ID, OPER_TYPE, INSERT_TIME,DEAL_FLAG)</div><div>select MEMBER_ID, TEAM_ID, MEMBER_ROLE_ID, OBJECT_ID, STATE, STATE_DATE, EFF_DATE, EXP_DATE, MEMBER_DESC, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, &#39;L2210050100004614&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;</div><div>from UR_USERTEAMMBR_INFO</div><div>where login_accept = &#39;60000010043512&#39;;</div><div>--用户信息增量</div><div>Insert into UR_USER_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(ID_NO, PHONE_NO, CONTRACT_NO, CUST_ID, RUN_CODE, RUN_TIME, OWNER_TYPE, USER_GRADE_CODE, STOP_FLAG, OWED_FLAG, BILLING_CYCLE_TYPE_ID, BILL_TYPE, GROUP_FLAG, USER_PASSWD, PASSWD_TYPE, CREDIT_CODE, LIMIT_OWE, CMD_RIGHT, ASSURE_FLAG, CREATE_DATE, CREATE_LOGIN, GROUP_ID, OWNED_CHNL_ID, SERVICE_GROUP, COMPLETED_DATE, OPEN_TIME, BILL_START_TIME, BILL_END_TIME, FIRST_USEDATE, RENT_DATE, STOP_RENT_DATE, PHOTO_FLAG, CARD_TYPE, VIP_CARD_NO, VIP_CREATE_TYPE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, BAK_FIELD, MASTER_SERV_ID, OLD_RUN, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;ID_NO, PHONE_NO, CONTRACT_NO, CUST_ID, RUN_CODE, RUN_TIME, OWNER_TYPE, USER_GRADE_CODE, STOP_FLAG, OWED_FLAG, BILLING_CYCLE_TYPE_ID, BILL_TYPE, GROUP_FLAG, USER_PASSWD, PASSWD_TYPE, CREDIT_CODE, LIMIT_OWE, CMD_RIGHT, ASSURE_FLAG, CREATE_DATE, CREATE_LOGIN, GROUP_ID, OWNED_CHNL_ID, SERVICE_GROUP, COMPLETED_DATE, OPEN_TIME, BILL_START_TIME, BILL_END_TIME, FIRST_USEDATE, RENT_DATE, STOP_RENT_DATE, PHOTO_FLAG, CARD_TYPE, VIP_CARD_NO, VIP_CREATE_TYPE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, BAK_FIELD, MASTER_SERV_ID, OLD_RUN,&#39;L2210050100004614&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from UR_USER_INFO</div><div>where id_no=22999999999974;</div><div>--组实例增量</div><div>Insert into UR_USERTEAM_INFO_CHG</div><div>(TEAM_ID, ID_NO, TEAM_TYPE, TEAM_NAME, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, EFF_DATE, EXP_DATE, STATE, STATE_DATE, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select TEAM_ID, ID_NO, TEAM_TYPE, TEAM_NAME, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, EFF_DATE, EXP_DATE, STATE, STATE_DATE, &#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from&nbsp;&nbsp;UR_USERTEAM_INFO</div><div>where&nbsp;&nbsp;team_id=&#39;60009743402&#39;;</div><div>--组成员 增量</div><div>Insert into UR_USERTEAMMBR_INFO_chg</div><div>(MEMBER_ID, TEAM_ID, MEMBER_ROLE_ID, OBJECT_ID, STATE, STATE_DATE, EFF_DATE, EXP_DATE, MEMBER_DESC, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;</div><div>MEMBER_ID, TEAM_ID, MEMBER_ROLE_ID, OBJECT_ID, STATE, STATE_DATE, EFF_DATE, EXP_DATE, MEMBER_DESC, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, &#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from UR_USERTEAMMBR_INFO</div><div>where&nbsp;&nbsp;&nbsp;MEMBER_ID=&nbsp;&nbsp;and TEAM_ID=;</div><div>---</div><div>Insert into UR_USERGROUP_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(GROUP_ID, GROUP_TYPE, ID_NO, GROUP_CODE, GROUP_DESC, LOCK_FLAG, FINISH_FLAG, LOGIN_ACCEPT, LOGIN_NO, OP_TIME, OP_CODE, EFF_DATE, EXP_DATE, STATE, STATE_DATE, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select GROUP_ID, GROUP_TYPE, ID_NO, GROUP_CODE, GROUP_DESC, LOCK_FLAG, FINISH_FLAG, LOGIN_ACCEPT, LOGIN_NO, OP_TIME, OP_CODE, EFF_DATE, EXP_DATE, STATE, STATE_DATE,&#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from UR_USERGROUP_INFO</div><div>where GROUP_ID= ;</div><div>---群成员&nbsp;&nbsp;</div><div>INSERT INTO UR_USERGROUPMBR_INFO_CHG</div><div>(MEMBER_ID, GROUP_ID, MEMBER_ROLE_ID, OBJECT_TYPE, OBJECT_ID, LOCK_FLAG, STATE, STATE_DATE, MEMBER_DESC, EFF_DATE, EXP_DATE, FINISH_FLAG, OP_CODE, LOGIN_NO, OP_TIME, LOGIN_ACCEPT,ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>SELECT MEMBER_ID, GROUP_ID, MEMBER_ROLE_ID, OBJECT_TYPE, OBJECT_ID, LOCK_FLAG, STATE, STATE_DATE, MEMBER_DESC, EFF_DATE, EXP_DATE, FINISH_FLAG, OP_CODE, LOGIN_NO, OP_TIME, LOGIN_ACCEPT, &#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>FROM UR_USERGROUPMBR_INFO</div><div>WHERE MEMBER_ID=2600081475;</div><div>INSERT INTO ur_billday_info_chg</div><div>(contract_no,id_no,phone_no,bill_day,eff_date,exp_date,dur_flag,ORDER_ID,OPER_TYPE,INSERT_TIME,order_level)</div><div>select</div><div>contract_no,id_no,phone_no,bill_day,eff_date,exp_date,dur_flag,&#39;L2210050100004614&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;10&#39; as order_level</div><div>from ${owner}.UR_BILLDAY_INFO_TT${BATCH}</div><div>where CITY in ${citylist};</div><div>--亲情号码：</div><div>&nbsp;&nbsp;INSERT INTO PD_USERPRCATTR_INFO_CHG</div><div>(PRODPRCINS_ID,ATTR_ID,ATTR_NO,ATTR_VALUE,GRP_NO,PROD_PRCID,ID_NO,EFF_DATE,EXP_DATE,LOGIN_NO,</div><div>LOGIN_ACCEPT,OP_TIME,OP_CODE,FINISH_FLAG,SERV_ORDER_ID,ORDER_ID,OPER_TYPE,INSERT_TIME,DEAL_FLAG)</div><div>SELECT</div><div>PRODPRCINS_ID,ATTR_ID,ATTR_NO,ATTR_VALUE,GRP_NO,PROD_PRCID,ID_NO,EFF_DATE,EXP_DATE,LOGIN_NO,</div><div>LOGIN_ACCEPT,OP_TIME,OP_CODE,FINISH_FLAG,SERV_ORDER_ID,&#39;L201006090022&#39; ORDER_ID,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;U&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>FROM PD_USERPRCATTR_INFO</div><div>WHERE&nbsp;&nbsp;&nbsp;prod_prcid=&#39;PIBP12571&#39;&nbsp;&nbsp;and&nbsp;&nbsp;&nbsp;attr_id =any(&#39;P142&#39;,&#39;P160&#39;);</div><div>--转移关系表</div><div>Insert into AC_USERTRANS_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(FROM_ID_NO, FROM_PHONE_NO, ACCT_ITEM, TO_ID_NO, TO_PHONE_NO, TRANS_TYPE, EFF_DATE, EXP_DATE, LOGIN_NO, OP_TIME, REMARK, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG, LOGIN_ACCEPT)</div><div>select FROM_ID_NO, FROM_PHONE_NO, ACCT_ITEM, TO_ID_NO, TO_PHONE_NO, TRANS_TYPE, EFF_DATE, EXP_DATE, LOGIN_NO, OP_TIME, REMARK, &#39;L2210050100000807&#39; ORDER_ID, &#39;D&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG,LOGIN_ACCEPT</div><div>&nbsp;&nbsp;from&nbsp;&nbsp;AC_USERTRANS_INFO</div><div>&nbsp;&nbsp;</div><div>&nbsp;&nbsp;</div><div>&nbsp;&nbsp;</div><div>&nbsp;&nbsp;select * from DBACCADM.PD_BILLPRCPLAN_BILL</div><div>where bill_prcid in (&#39;00757&#39;,&#39;00808&#39;,&#39;A0534SM&#39;,&#39;A0518MN&#39;,&#39;00782&#39;,&#39;00065GP&#39;);</div><div>update ur_user_info a&nbsp;&nbsp;&nbsp;set&nbsp;&nbsp;a.bill_start_time=</div><div>(select b.begin_time FROM UR_USEREXPIRE_INFO b&nbsp;&nbsp;where&nbsp;&nbsp;&nbsp;&nbsp;b.EXPIRE_TYPE = &#39;1&#39; and a.id_no=b.id_no and b.begin_time&lt;&gt;a.bill_start_time)and a.id_no=b.id_no)&nbsp;&nbsp;</div><div>where exists (select 1 from UR_USEREXPIRE_INFO b where a.id_no=b.id_no and b.EXPIRE_TYPE = &#39;1&#39;and b.begin_time&lt;&gt;a.bill_start_time );</div><div>Insert into UR_USER_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(ID_NO, PHONE_NO, CONTRACT_NO, CUST_ID, RUN_CODE, RUN_TIME, OWNER_TYPE, USER_GRADE_CODE, STOP_FLAG, OWED_FLAG, BILLING_CYCLE_TYPE_ID, BILL_TYPE, GROUP_FLAG, USER_PASSWD, PASSWD_TYPE, CREDIT_CODE, LIMIT_OWE, CMD_RIGHT, ASSURE_FLAG, CREATE_DATE, CREATE_LOGIN, GROUP_ID, OWNED_CHNL_ID, SERVICE_GROUP, COMPLETED_DATE, OPEN_TIME, BILL_START_TIME, BILL_END_TIME, FIRST_USEDATE, RENT_DATE, STOP_RENT_DATE, PHOTO_FLAG, CARD_TYPE, VIP_CARD_NO, VIP_CREATE_TYPE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, BAK_FIELD, MASTER_SERV_ID, OLD_RUN, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;ID_NO, PHONE_NO, CONTRACT_NO, CUST_ID, RUN_CODE, RUN_TIME, OWNER_TYPE, USER_GRADE_CODE, STOP_FLAG, OWED_FLAG, BILLING_CYCLE_TYPE_ID, BILL_TYPE, GROUP_FLAG, USER_PASSWD, PASSWD_TYPE, CREDIT_CODE, LIMIT_OWE, CMD_RIGHT, ASSURE_FLAG, CREATE_DATE, CREATE_LOGIN, GROUP_ID, OWNED_CHNL_ID, SERVICE_GROUP, COMPLETED_DATE, OPEN_TIME, BILL_START_TIME, BILL_END_TIME, FIRST_USEDATE, RENT_DATE, STOP_RENT_DATE, PHOTO_FLAG, CARD_TYPE, VIP_CARD_NO, VIP_CREATE_TYPE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, BAK_FIELD, MASTER_SERV_ID, OLD_RUN,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from UR_USER_INFO a</div><div>where id_no in&nbsp;&nbsp;(select a.id_No FROM UR_USEREXPIRE_INFO b&nbsp;&nbsp;where&nbsp;&nbsp;&nbsp;&nbsp;b.EXPIRE_TYPE = &#39;1&#39; and a.id_no=b.id_no and b.begin_time&lt;&gt;a.bill_start_time);</div><div>&quot;update ur_user_info a</div><div>&nbsp;&nbsp;&nbsp;set a.bill_start_time = (select b.begin_time</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from UR_USEREXPIRE_INFO b</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where a.id_no = b.id_no</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and to_char(b.begin_time,&#39;yyyymmdd&#39;) &lt;&gt; to_char( a.bill_start_time,&#39;yyyymmdd&#39;) and a.master_serv_id =&#39;1002&#39;&nbsp;&nbsp;&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and b.EXPIRE_TYPE = &#39;1&#39; )</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div>where exists (select 1</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from UR_USEREXPIRE_INFO b</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where a.id_no = b.id_no</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and to_char(b.begin_time,&#39;yyyymmdd&#39;) &lt;&gt; to_char( a.bill_start_time,&#39;yyyymmdd&#39;)&nbsp;&nbsp;and a.master_serv_id =&#39;1002&#39;&nbsp;&nbsp;&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and b.EXPIRE_TYPE = &#39;1&#39; );&quot;</div><div>A库；6813&nbsp;&nbsp;</div><div>B库：791</div><div>select * from IN_CBTABLE_SYNC_RELATION where source_table like &#39;%UR_SERVADDNUM_INFO%&#39;</div><div>资费关系打增量</div><div style=\"font-size: 14px; white-space: normal; widows: 1;\"><span style=\"font-family: &quot;Microsoft YaHei UI&quot;; font-variant-numeric: normal; font-variant-east-asian: normal; line-height: 21px;\">----WRES&nbsp;执行</span></div><div style=\"font-size: 14px; white-space: normal; widows: 1;\"><div><span style=\"font-family: &quot;Microsoft YaHei UI&quot;; font-variant-numeric: normal; font-variant-east-asian: normal; line-height: 21px;\">INSERT&nbsp;INTO&nbsp;PD_PRCRELTRIG_INFO(ELEMENT_TYPEA,&nbsp;ELEMENT_IDA,&nbsp;ELEMENT_TYPEB,&nbsp;ELEMENT_IDB,&nbsp;GROUP_ID,&nbsp;RELATION_TYPE,&nbsp;CHANNEL_TYPE,&nbsp;BASE_TIME_TYPE,&nbsp;EFF_RULE_ID,&nbsp;EXP_RULE_ID,&nbsp;CTRL_TYPE,&nbsp;CTRL_CODE,&nbsp;EFF_DATE,&nbsp;EXP_DATE,&nbsp;POWER_RIGHT,&nbsp;POSITIVE_TYPE,&nbsp;BOTHWAY_FLAG,&nbsp;CREATE_LOGIN,&nbsp;CREATE_TIME,&nbsp;VERSION,&nbsp;TENANTID,&nbsp;OP_TYPE,&nbsp;FINISH_TIME,&nbsp;OP_CODE,&nbsp;LOGIN_ACCEPT,&nbsp;OP_TIME,&nbsp;LOGIN_NO,&nbsp;REMARK,&nbsp;DSP_UPDATE_TIME,&nbsp;DSP_ACCEPT,&nbsp;DSP_STATUS,&nbsp;DSP_POSITION)</span></div><div><span style=\"font-family: &quot;Microsoft YaHei UI&quot;; font-variant-numeric: normal; font-variant-east-asian: normal; line-height: 21px;\">values(&#39;1&#39;,&#39;PIBP7700216&#39;,&nbsp;&#39;1&#39;,&nbsp;&nbsp;&#39;X&#39;,&nbsp;&#39;10017&#39;,&nbsp;&#39;10&#39;,&#39;1&#39;,&#39;0&#39;,&nbsp;&#39;1001&#39;,&nbsp;&#39;1023&#39;,&nbsp;&#39;0&#39;,&#39;0&#39;,SYSDATE,&nbsp;to_date(&#39;31-12-2099&nbsp;23:59:59&#39;,&nbsp;&#39;dd-mm-yyyy&nbsp;hh24:mi:ss&#39;),&nbsp;11,&nbsp;&#39;1&#39;,&nbsp;&#39;0&#39;,&nbsp;&#39;system&#39;,&nbsp;SYSDATE,&nbsp;1.0,&nbsp;&#39;0&#39;,&nbsp;&#39;A&#39;,&nbsp;SYSDATE,&nbsp;&#39;0000&#39;,&nbsp;null,&nbsp;SYSDATE,&nbsp;&#39;system&#39;,&nbsp;&#39;test&#39;,&nbsp;SYSDATE,&nbsp;null,&nbsp;&#39;0&#39;,&nbsp;&#39;0&#39;);</span></div></div><p><br/></p>","cnNoteId":"4e55265d-c473-4786-a1cb-a6fadb2ba50d","cnNoteTitle":"打增量"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 17:12:38,124:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：13mm
2023-03-10 17:16:10,465:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 17:16:10,730:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1660371295000,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnNotebookName":"数据库","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1677629106000,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnNotebookName":"面试题","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660374794000,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnNotebookName":"学习相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660370018000,"cnNotebookId":"a5d43bed-1980-4b9e-9985-36aee8403305","cnNotebookName":"开发相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660371629000,"cnNotebookId":"ce76fe6e-e604-4ac6-9c1e-df43ad64934b","cnNotebookName":"办公相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记本成功","status":0}
2023-03-10 17:16:10,730:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：265mm
2023-03-10 17:16:54,508:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 17:16:54,535:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1660371295000,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnNotebookName":"数据库","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1677629106000,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnNotebookName":"面试题","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660374794000,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnNotebookName":"学习相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660370018000,"cnNotebookId":"a5d43bed-1980-4b9e-9985-36aee8403305","cnNotebookName":"开发相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660371629000,"cnNotebookId":"ce76fe6e-e604-4ac6-9c1e-df43ad64934b","cnNotebookName":"办公相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记本成功","status":0}
2023-03-10 17:16:54,536:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：28mm
2023-03-10 17:17:43,868:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b"}
2023-03-10 17:17:44,055:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1663250552720,"cnNoteId":"012343e8-1430-480c-9fcb-d9b3e9202175","cnNoteLastModifyTime":1671164690039,"cnNoteStatusId":"1","cnNoteTitle":"Mysql","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1672127653235,"cnNoteId":"027ff9c0-04d8-4ba4-929d-2fa14015cc1c","cnNoteLastModifyTime":1675782565829,"cnNoteStatusId":"1","cnNoteTitle":"vue","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660464780686,"cnNoteId":"0b777323-6452-437d-ba65-5747f02076e7","cnNoteLastModifyTime":1677569008283,"cnNoteStatusId":"1","cnNoteTitle":"测试","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677142719256,"cnNoteId":"125e3ad4-f976-4ca2-bc1d-9367cabf7cfb","cnNoteLastModifyTime":1677142949524,"cnNoteStatusId":"1","cnNoteTitle":"123","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400505590,"cnNoteId":"2f5dd644-5e2e-46c7-aece-682dac026711","cnNoteLastModifyTime":1660400604810,"cnNoteStatusId":"1","cnNoteTitle":"Docker","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1663248262082,"cnNoteId":"34c93b39-a987-43a9-9090-08f21252cac7","cnNoteLastModifyTime":1663249185016,"cnNoteStatusId":"1","cnNoteTitle":"Mybatis","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1676462260654,"cnNoteId":"3ec7d6c7-7e69-4437-875b-8991340ea73e","cnNoteLastModifyTime":1677681812767,"cnNoteStatusId":"1","cnNoteTitle":"云笔记开发及部署","cnNoteTypeId":"129","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660457919280,"cnNoteId":"626c630b-e531-4d32-a407-7a9c741fc89b","cnNoteLastModifyTime":1660463088264,"cnNoteStatusId":"1","cnNoteTitle":"NIO","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400899846,"cnNoteId":"707dcc14-37d6-4d93-8c29-d9a769209fa8","cnNoteLastModifyTime":1660457915248,"cnNoteStatusId":"1","cnNoteTitle":"Netty","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677510300642,"cnNoteId":"80d75d68-941b-4731-8087-c99a09e1128e","cnNoteLastModifyTime":1677567516701,"cnNoteStatusId":"1","cnNoteTitle":"MySQL命令【explain】","cnNoteTypeId":"129","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400752274,"cnNoteId":"a4c0032f-3823-4a14-884e-53e2361d29d7","cnNoteLastModifyTime":1660400764338,"cnNoteStatusId":"1","cnNoteTitle":"IDEA控制台中文乱码解决","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677682104451,"cnNoteId":"acc18f06-103f-4680-b03d-b6276805cb77","cnNoteLastModifyTime":1677682253027,"cnNoteStatusId":"1","cnNoteTitle":"linux设置开机自动同步时间","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400632552,"cnNoteId":"be306253-0f63-4420-9e13-8dd26ef978d8","cnNoteLastModifyTime":1675848834521,"cnNoteStatusId":"1","cnNoteTitle":"Linux常用命令","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1675782579040,"cnNoteId":"edc37b6b-bc38-4053-bb8f-bfc009a76e2e","cnNoteLastModifyTime":1675782579040,"cnNoteStatusId":"1","cnNoteTitle":"面试题目","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 17:17:44,056:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：188mm
2023-03-10 17:17:44,827:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839"}
2023-03-10 17:17:44,832:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1677629470095,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteLastModifyTime":1677629470095,"cnNoteStatusId":"1","cnNoteTitle":"mybatis一级缓存和二级缓存","cnNoteTypeId":"1","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677629131083,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteLastModifyTime":1677629191800,"cnNoteStatusId":"1","cnNoteTitle":"什么是悲观锁和乐观锁","cnNoteTypeId":"129","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 17:17:44,833:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：6mm
2023-03-10 17:17:46,262:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0"}
2023-03-10 17:17:46,276:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnNoteCreateTime":1677629131083,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteLastModifyTime":1677629191800,"cnNoteStatusId":"1","cnNoteTitle":"什么是悲观锁和乐观锁","cnNoteTypeId":"129","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},"msg":"打开笔记成功","status":0}
2023-03-10 17:17:46,276:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：14mm
2023-03-10 17:19:17,118:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 17:19:17,355:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1660371295000,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnNotebookName":"数据库","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1677629106000,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnNotebookName":"面试题","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660374794000,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnNotebookName":"学习相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660370018000,"cnNotebookId":"a5d43bed-1980-4b9e-9985-36aee8403305","cnNotebookName":"开发相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660371629000,"cnNotebookId":"ce76fe6e-e604-4ac6-9c1e-df43ad64934b","cnNotebookName":"办公相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记本成功","status":0}
2023-03-10 17:19:17,356:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：238mm
2023-03-10 17:19:20,087:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 17:19:20,098:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1660371295000,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnNotebookName":"数据库","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1677629106000,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnNotebookName":"面试题","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660374794000,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnNotebookName":"学习相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660370018000,"cnNotebookId":"a5d43bed-1980-4b9e-9985-36aee8403305","cnNotebookName":"开发相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660371629000,"cnNotebookId":"ce76fe6e-e604-4ac6-9c1e-df43ad64934b","cnNotebookName":"办公相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记本成功","status":0}
2023-03-10 17:19:20,099:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：12mm
2023-03-10 17:19:21,255:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b"}
2023-03-10 17:19:21,271:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1663250552720,"cnNoteId":"012343e8-1430-480c-9fcb-d9b3e9202175","cnNoteLastModifyTime":1671164690039,"cnNoteStatusId":"1","cnNoteTitle":"Mysql","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1672127653235,"cnNoteId":"027ff9c0-04d8-4ba4-929d-2fa14015cc1c","cnNoteLastModifyTime":1675782565829,"cnNoteStatusId":"1","cnNoteTitle":"vue","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660464780686,"cnNoteId":"0b777323-6452-437d-ba65-5747f02076e7","cnNoteLastModifyTime":1677569008283,"cnNoteStatusId":"1","cnNoteTitle":"测试","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677142719256,"cnNoteId":"125e3ad4-f976-4ca2-bc1d-9367cabf7cfb","cnNoteLastModifyTime":1677142949524,"cnNoteStatusId":"1","cnNoteTitle":"123","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400505590,"cnNoteId":"2f5dd644-5e2e-46c7-aece-682dac026711","cnNoteLastModifyTime":1660400604810,"cnNoteStatusId":"1","cnNoteTitle":"Docker","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1663248262082,"cnNoteId":"34c93b39-a987-43a9-9090-08f21252cac7","cnNoteLastModifyTime":1663249185016,"cnNoteStatusId":"1","cnNoteTitle":"Mybatis","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1676462260654,"cnNoteId":"3ec7d6c7-7e69-4437-875b-8991340ea73e","cnNoteLastModifyTime":1677681812767,"cnNoteStatusId":"1","cnNoteTitle":"云笔记开发及部署","cnNoteTypeId":"129","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660457919280,"cnNoteId":"626c630b-e531-4d32-a407-7a9c741fc89b","cnNoteLastModifyTime":1660463088264,"cnNoteStatusId":"1","cnNoteTitle":"NIO","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400899846,"cnNoteId":"707dcc14-37d6-4d93-8c29-d9a769209fa8","cnNoteLastModifyTime":1660457915248,"cnNoteStatusId":"1","cnNoteTitle":"Netty","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677510300642,"cnNoteId":"80d75d68-941b-4731-8087-c99a09e1128e","cnNoteLastModifyTime":1677567516701,"cnNoteStatusId":"1","cnNoteTitle":"MySQL命令【explain】","cnNoteTypeId":"129","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400752274,"cnNoteId":"a4c0032f-3823-4a14-884e-53e2361d29d7","cnNoteLastModifyTime":1660400764338,"cnNoteStatusId":"1","cnNoteTitle":"IDEA控制台中文乱码解决","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677682104451,"cnNoteId":"acc18f06-103f-4680-b03d-b6276805cb77","cnNoteLastModifyTime":1677682253027,"cnNoteStatusId":"1","cnNoteTitle":"linux设置开机自动同步时间","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400632552,"cnNoteId":"be306253-0f63-4420-9e13-8dd26ef978d8","cnNoteLastModifyTime":1675848834521,"cnNoteStatusId":"1","cnNoteTitle":"Linux常用命令","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1675782579040,"cnNoteId":"edc37b6b-bc38-4053-bb8f-bfc009a76e2e","cnNoteLastModifyTime":1675782579040,"cnNoteStatusId":"1","cnNoteTitle":"面试题目","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 17:19:21,271:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：16mm
2023-03-10 17:19:22,542:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"0b777323-6452-437d-ba65-5747f02076e7"}
2023-03-10 17:19:22,553:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>1</p><p><img src=\"http://172.23.10.189:8089/cloudnote-admin/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677145900291_10015_image.png\" _src=\"http://172.23.10.189:8089/cloudnote-admin/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677145900291_10015_image.png\"/></p><p><br/></p><p><img src=\"http://172.23.10.189:8089/cloudnote-admin/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677145915527_10016_image.png\" _src=\"http://172.23.10.189:8089/cloudnote-admin/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677145915527_10016_image.png\"/></p><p><img src=\"http://192.168.226.128:8088/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1676613016355_10002_image.png\" _src=\"http://192.168.226.128:8088/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1676613016355_10002_image.png\"/></p><p><img src=\"http://192.168.226.128:8088/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677143290825_10014_image.png\" _src=\"http://192.168.226.128:8088/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677143290825_10014_image.png\"/></p><p><img src=\"http://172.23.10.189:8089/cloudnote-admin/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677149275719_10018_image.png\" _src=\"http://172.23.10.189:8089/cloudnote-admin/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677149275719_10018_image.png\"/></p><p><img src=\"http://192.168.226.128:8088/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677569004414_10024_image.png\" _src=\"http://192.168.226.128:8088/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677569004414_10024_image.png\"/></p>","cnNoteCreateTime":1660464780686,"cnNoteId":"0b777323-6452-437d-ba65-5747f02076e7","cnNoteLastModifyTime":1677569008283,"cnNoteStatusId":"1","cnNoteTitle":"测试","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},"msg":"打开笔记成功","status":0}
2023-03-10 17:19:22,553:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：11mm
2023-03-10 17:19:37,546:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"0b777323-6452-437d-ba65-5747f02076e7"}
2023-03-10 17:19:37,551:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>1</p><p><img src=\"http://172.23.10.189:8089/cloudnote-admin/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677145900291_10015_image.png\" _src=\"http://172.23.10.189:8089/cloudnote-admin/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677145900291_10015_image.png\"/></p><p><br/></p><p><img src=\"http://172.23.10.189:8089/cloudnote-admin/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677145915527_10016_image.png\" _src=\"http://172.23.10.189:8089/cloudnote-admin/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677145915527_10016_image.png\"/></p><p><img src=\"http://192.168.226.128:8088/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1676613016355_10002_image.png\" _src=\"http://192.168.226.128:8088/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1676613016355_10002_image.png\"/></p><p><img src=\"http://192.168.226.128:8088/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677143290825_10014_image.png\" _src=\"http://192.168.226.128:8088/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677143290825_10014_image.png\"/></p><p><img src=\"http://172.23.10.189:8089/cloudnote-admin/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677149275719_10018_image.png\" _src=\"http://172.23.10.189:8089/cloudnote-admin/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677149275719_10018_image.png\"/></p><p><img src=\"http://192.168.226.128:8088/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677569004414_10024_image.png\" _src=\"http://192.168.226.128:8088/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374/1677569004414_10024_image.png\"/></p>","cnNoteId":"0b777323-6452-437d-ba65-5747f02076e7","cnNoteTitle":"测试"},"msg":"打开笔记成功","status":0}
2023-03-10 17:19:37,552:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：6mm
2023-03-10 17:20:34,271:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 17:20:34,300:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1660371295000,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnNotebookName":"数据库","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1677629106000,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnNotebookName":"面试题","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660374794000,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnNotebookName":"学习相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660370018000,"cnNotebookId":"a5d43bed-1980-4b9e-9985-36aee8403305","cnNotebookName":"开发相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660371629000,"cnNotebookId":"ce76fe6e-e604-4ac6-9c1e-df43ad64934b","cnNotebookName":"办公相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记本成功","status":0}
2023-03-10 17:20:34,301:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：31mm
2023-03-10 17:20:41,472:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 17:20:41,479:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1660371295000,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnNotebookName":"数据库","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1677629106000,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnNotebookName":"面试题","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660374794000,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnNotebookName":"学习相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660370018000,"cnNotebookId":"a5d43bed-1980-4b9e-9985-36aee8403305","cnNotebookName":"开发相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660371629000,"cnNotebookId":"ce76fe6e-e604-4ac6-9c1e-df43ad64934b","cnNotebookName":"办公相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记本成功","status":0}
2023-03-10 17:20:41,479:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：7mm
2023-03-10 17:20:42,325:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839"}
2023-03-10 17:20:42,333:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1677629470095,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteLastModifyTime":1677629470095,"cnNoteStatusId":"1","cnNoteTitle":"mybatis一级缓存和二级缓存","cnNoteTypeId":"1","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677629131083,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteLastModifyTime":1677629191800,"cnNoteStatusId":"1","cnNoteTitle":"什么是悲观锁和乐观锁","cnNoteTypeId":"129","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 17:20:42,333:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：8mm
2023-03-10 17:20:43,662:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0"}
2023-03-10 17:20:43,667:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteTitle":"什么是悲观锁和乐观锁"},"msg":"打开笔记成功","status":0}
2023-03-10 17:20:43,668:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：6mm
2023-03-10 17:21:02,223:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 17:21:02,233:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1660371295000,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnNotebookName":"数据库","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1677629106000,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnNotebookName":"面试题","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660374794000,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnNotebookName":"学习相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660370018000,"cnNotebookId":"a5d43bed-1980-4b9e-9985-36aee8403305","cnNotebookName":"开发相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660371629000,"cnNotebookId":"ce76fe6e-e604-4ac6-9c1e-df43ad64934b","cnNotebookName":"办公相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记本成功","status":0}
2023-03-10 17:21:02,233:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：10mm
2023-03-10 17:21:03,905:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839"}
2023-03-10 17:21:03,912:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1677629470095,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteLastModifyTime":1677629470095,"cnNoteStatusId":"1","cnNoteTitle":"mybatis一级缓存和二级缓存","cnNoteTypeId":"1","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677629131083,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteLastModifyTime":1677629191800,"cnNoteStatusId":"1","cnNoteTitle":"什么是悲观锁和乐观锁","cnNoteTypeId":"129","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 17:21:03,912:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：7mm
2023-03-10 17:21:05,755:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0"}
2023-03-10 17:21:05,763:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteTitle":"什么是悲观锁和乐观锁"},"msg":"打开笔记成功","status":0}
2023-03-10 17:21:05,763:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：8mm
2023-03-10 17:21:07,650:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0"}
2023-03-10 17:21:07,654:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteTitle":"什么是悲观锁和乐观锁"},"msg":"打开笔记成功","status":0}
2023-03-10 17:21:07,655:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：5mm
2023-03-10 17:21:10,188:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:
2023-03-10 17:21:10,198:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteBody":"<div>&gt;CS_CRMA</div><div>DBCUSTOPR/jwu7fCnx@(DESCRIPTION=(ADDRESS_LIST=(FAILOVER=ON)(LOAD_BALANCE=OFF)(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.55)(PORT=1521)))(CONNECT_DATA=(SERVICE_NAME=actcrma)))</div><div>&gt;CS_CRMB</div><div>DBCUSTOPR/jwu7fCnx@(DESCRIPTION=(ADDRESS_LIST=(FAILOVER=ON)(LOAD_BALANCE=OFF)(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.56)(PORT=1521)))(CONNECT_DATA=(SERVICE_NAME=actcrmb)))</div><div>&gt;CS_CENTER</div><div>DBCUSTOPR/jwu7fCnx@(DESCRIPTION=(ADDRESS_LIST=(FAILOVER=ON)(LOAD_BALANCE=OFF)(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.57)(PORT=1521)))(CONNECT_DATA=(SERVICE_NAME=actcase)))</div><div>&gt;CS_CENTER(OLD)</div><div>DBCUSTOPR/jwu7fCnx@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=152.55.229.209)(PORT=1521))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=CENTER)))</div><div>&gt;CS_ORDER</div><div>DBORDERADM/DBORDERADM@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=152.55.229.208)(PORT=1522))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=qudao)))</div><div>&gt;CS_BOSSA</div><div>dbaccopr/Lf5k3rcf@(DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = 10.243.208.65)(PORT = 1521)) (CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME = stdwaccta))</div><div>&gt;CS_BOSSB</div><div>dbaccopr/Lf5k3rcf@(DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = 10.243.208.66)(PORT = 1521)) (CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME = stbwacctb)))</div><p><br/></p><p>&gt;ZSC_CRMA</p><div><p>dbcustopr/dbcustopr@(DESCRIPTION =(ADDRESS = (PROTOCOL = TCP)(HOST = 10.243.208.49)(PORT = 1521))(CONNECT_DATA =(SERVER = DEDICATED)(SERVICE_NAME = actcrma)))</p></div><div>&gt;ZSC_CRMB</div><div><p>dbcustopr/dbcustopr@(DESCRIPTION =(ADDRESS = (PROTOCOL = TCP)(HOST = 10.243.208.52)(PORT = 1521))(CONNECT_DATA =(SERVER = DEDICATED)(SERVICE_NAME = actcrmb)))</p></div><div>&gt;ZSC_CENTER</div><div><p>dbcustopr/dbcustopr@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.225)(PORT=1521))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=wres)))</p></div><div>&gt;ZSC_ORDER</div><div>DBORDERADM/DBORDERADM@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.44)(PORT=1521))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=worddb)))</div><div>&gt;ZSC_BOSSA</div><div><p>dbaccopr/dbaccopr@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.50)(PORT=1521))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=waccta)))</p></div><div>&gt;ZSC_BOSSB</div><div>dbaccopr/dbaccopr@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.51)(PORT=1521))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=wacctb)))</div><p><br/></p>","cnNoteId":"a53039ac-c9a9-4236-b22e-2317e814f083","cnNoteTitle":"数据库TNS校正版"},{"cnNoteBody":"<div>1.需要打增量表列表</div><div>AC_CONUSER_INFO_CHG</div><div>AC_USERTRANS_INFO_CHG</div><div>PD_USERPRCATTR_INFO_CHG</div><div>PD_USERPRCSP_INFO_CHG</div><div>PD_USERPRC_INFO_CHG</div><div>PD_USERSVCTRACE_INFO_CHG</div><div>PD_USERSVC_INFO_CHG</div><div>---*注意*----</div><div>--*以上四表，注意更新生效时间的时候，不能打更新操作的增量。（生效时间不能变更）*--</div><div>UR_USERBRAND_REL_CHG</div><div>UR_USERGROUPMBR_INFO_CHG</div><div>UR_USERGROUP_INFO_CHG</div><div>UR_USERTEAMMBR_INFO_CHG</div><div>UR_USERTEAM_INFO_CHG</div><div>UR_USER_INFO_CHG</div><div>如果服务、资费等几个pd的表 刷的话 要先刷资费</div><div>2.根据下面的字段含义可以结合每个CHG表有哪些字段，从而知道该表同步哪些增量</div><div>同步计费的增量需要注意，因为可能只同步某几个字段，表主键与源表有出入，如果手工刷新数据，涉及更新计费内存数据主键时需要注意。</div><div>一般生效时间是不能修改的，需要删除后再插入，失效时间可以更新。</div><div>Name&nbsp;&nbsp;&nbsp;&nbsp;Code&nbsp;&nbsp;&nbsp;&nbsp;Data Type&nbsp;&nbsp;&nbsp;&nbsp;Length&nbsp;&nbsp;&nbsp;&nbsp;Precision&nbsp;&nbsp;&nbsp;&nbsp;Mandatory&nbsp;&nbsp;&nbsp;&nbsp;Primary Identifier&nbsp;&nbsp;&nbsp;&nbsp;Displayed&nbsp;&nbsp;&nbsp;&nbsp;Domain</div><div>同步账务增量信息&nbsp;&nbsp;&nbsp;&nbsp;A_ERRMSG&nbsp;&nbsp;&nbsp;&nbsp;Variable characters (256)&nbsp;&nbsp;&nbsp;&nbsp;256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;TRUE&nbsp;&nbsp;&nbsp;&nbsp;&lt;None&gt;</div><div>同步计费增量信息&nbsp;&nbsp;&nbsp;&nbsp;B_ERRMSG&nbsp;&nbsp;&nbsp;&nbsp;Variable characters (256)&nbsp;&nbsp;&nbsp;&nbsp;256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;TRUE&nbsp;&nbsp;&nbsp;&nbsp;&lt;None&gt;</div><div>同步网关增量信息&nbsp;&nbsp;&nbsp;&nbsp;O_ERRMSG&nbsp;&nbsp;&nbsp;&nbsp;Variable characters (256)&nbsp;&nbsp;&nbsp;&nbsp;256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;TRUE&nbsp;&nbsp;&nbsp;&nbsp;&lt;None&gt;</div><div>同步OCS增量信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C_ERRMSG&nbsp;&nbsp;&nbsp;&nbsp;Variable characters (256)&nbsp;&nbsp;&nbsp;&nbsp;256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;TRUE&nbsp;&nbsp;&nbsp;&nbsp;&lt;None&gt;</div><div>3.操作说明：</div><div>（1）OPER_TYPE为‘X’更新操作：&nbsp;&nbsp;&nbsp;</div><div>ORDER_ID 填订单行编号</div><div>where条件可以自己选择为需要更新的那条记录，可以选择只刷新需要更新的表的增量。</div><div>先在物理数据库中更新，然后刷增量，刷增量前先保证物理数据库的记录是正确的。</div><div>（2）插入操作类似。OPER_TYPE为‘I’</div><div>（3）删除操作：OPER_TYPE为‘D’</div><div>--*注意*--</div><div>要刷新删除操作的增量，需要先刷新增量，再在物理数据库做删除操作。</div><div>不可以将更新操作拆分为先删除后插入来刷新增量，因为不是一个事务。</div><div>--*注意*--PD_USERPRCSP_INFO&nbsp;&nbsp;pd_userprcsp_info_chg</div><div>如果更新sp业务(PD_USERPRCSP_INFO_92)，要刷新服务实例表的增量(pd_usersvc_info_chg)，刷新对应的服务实例。</div><div>sp资费表的增量删除操作，现增加PD_USERPRCSP_INFO_CHG，若是删除操作，需要打PD_USERPRCSP_INFO_CHG增量。</div><div>tsql</div><div>select * from dba_tables</div><div>select * from user_bill_plan where&nbsp;&nbsp;msisdn=&#39;&#39;;</div><div>--</div><div>Insert into pd_userprcsp_info_chg</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(PRODPRCINS_ID, ID_NO, OTHER_SVCNUM, SP_ID, BUSI_CODE, SPCHANGE_FLAG, OP_SOURCE, LOGIN_ACCEPT, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;PRODPRCINS_ID, ID_NO, OTHER_SVCNUM, SP_ID, BUSI_CODE, SPCHANGE_FLAG, OP_SOURCE, LOGIN_ACCEPT,&#39;L2210050100004614&#39; ORDER_ID, &#39;D&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;</div><div>from&nbsp;&nbsp;pd_userprcsp_info_22</div><div>where&nbsp;&nbsp;PRODPRCINS_ID=29000023454344;</div><div>--资费属性</div><div>Insert into PD_USERPRCATTR_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(PRODPRCINS_ID, ATTR_ID, ATTR_NO, ATTR_VALUE, GRP_NO, PROD_PRCID, ID_NO, EFF_DATE, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, FINISH_FLAG, SERV_ORDER_ID, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;PRODPRCINS_ID, ATTR_ID, ATTR_NO, ATTR_VALUE, GRP_NO, PROD_PRCID, ID_NO, EFF_DATE, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, FINISH_FLAG, SERV_ORDER_ID,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;</div><div>from PD_USERPRCATTR_INFO</div><div>where id_no=22999999999974;</div><div>----</div><div>Insert into&nbsp;&nbsp;PD_USERSVCATTRTRACE_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(SVCINS_ID, ID_NO, SVC_ID, ATTR_NO, ATTR_ID, EFF_DATE, ATTR_VALUE, GRP_NO, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, SERV_ORDER_ID, FINISH_FLAG, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>&nbsp;&nbsp;&nbsp;select&nbsp;&nbsp;SVCINS_ID, ID_NO, SVC_ID, ATTR_NO, ATTR_ID, EFF_DATE, ATTR_VALUE, GRP_NO, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, SERV_ORDER_ID, FINISH_FLAG,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>&nbsp;&nbsp;&nbsp;from PD_USERSVCATTRTRACE_INFO where id_no=&#39;&#39;;</div><div>--资费信息&nbsp;&nbsp;先做</div><div>Insert into PD_USERPRC_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(PRODPRCINS_ID, ID_NO, RELPRCINS_ID, PROD_PRCID, PROD_ID, PRICING_ID, EFF_DATE, EXP_DATE, STATE, STATE_DATE, LOGIN_NO, LOGIN_ACCEPT, GROUP_ID, TEAM_ID, PROD_MAIN_FLAG, SERV_ORDER_ID, DEVELOP_LOGIN, OP_TIME, OP_CODE, FINISH_FLAG, TRANPRCINS_ID, MEMBER_ID, PARPRC_ID, ORDER_DATE, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;PRODPRCINS_ID, ID_NO, RELPRCINS_ID, PROD_PRCID, PROD_ID, PRICING_ID, EFF_DATE, EXP_DATE, STATE, STATE_DATE, LOGIN_NO, LOGIN_ACCEPT, GROUP_ID, TEAM_ID, PROD_MAIN_FLAG, SERV_ORDER_ID, DEVELOP_LOGIN, OP_TIME, OP_CODE, FINISH_FLAG, TRANPRCINS_ID, MEMBER_ID, PARPRC_ID, ORDER_DATE,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;</div><div>from PD_USERPRC_INFO_74</div><div>where id_no=22999999999974;</div><div>--服务轨迹</div><div>Insert into PD_USERSVCTRACE_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(SVCINS_ID, PRODPRCINS_ID, ID_NO, SVC_ID, SVC_TYPE, EFF_DATE, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, SERV_ORDER_ID, FINISH_FLAG, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;SVCINS_ID, PRODPRCINS_ID, ID_NO, SVC_ID, SVC_TYPE, EFF_DATE, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, SERV_ORDER_ID, FINISH_FLAG,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>from PD_USERSVCTRACE_INFO_74</div><div>where id_no=22999999999974;</div><div>insert into PD_USERSVCATTR_INFO_chg (ID_NO, SVC_ID, ATTR_ID, ATTR_NO, ATTR_VALUE, GRP_NO, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, FINISH_FLAG, SERV_ORDER_ID, SVCINS_ID, ORDER_ID, OPER_TYPE, INSERT_TIME,&nbsp;&nbsp;DEAL_FLAG)</div><div>select&nbsp;&nbsp;ID_NO, SVC_ID, ATTR_ID, ATTR_NO, ATTR_VALUE, GRP_NO, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, FINISH_FLAG, SERV_ORDER_ID, SVCINS_ID, &#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE, SYSDATE INSERT_TIME, &#39;00000&#39; DEAL_FLAG</div><div>from PD_USERSVCATTR_INFO&nbsp;&nbsp;where id_no=18310003518511;</div><div>--服务实例 PD_USERSVC_INFO_CHG</div><div>Insert into pd_usersvc_info_chg</div><div>(ID_NO,SVC_ID,CREATE_DATE,STATE,LOGIN_ACCEPT,SERV_ORDER_ID,OP_TIME,OP_CODE,FINISH_FLAG,SVC_TYPE,STATE_DATE,LOGIN_NO,ORDER_ID,OPER_TYPE,INSERT_TIME,DEAL_FLAG)</div><div>select a.*,&#39;L2410060600009069&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>from pd_usersvc_info_74 a where id_no=22999999999974 and svc_id=&#39;BS0094&#39;;</div><div>--账户信息</div><div>insert into ac_contract_info_chg</div><div>(CONTRACT_NO,CUST_ID,STATUS_CODE,STATUS_TIME,ACCOUNT_TYPE,PAY_CODE,CONTRACT_NAME,CONTRACT_PASSWD,ACCOUNT_LIMIT,GROUP_ID,FINISH_FLAG,OP_CODE,OP_TIME,LOGIN_NO,LOGIN_ACCEPT,REPRESENT_PHONE,CONTRACTATT_TYPE,CONTRACT_NAME_ENCRYPT,</div><div>ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select</div><div>CONTRACT_NO,CUST_ID,STATUS_CODE,STATUS_TIME,ACCOUNT_TYPE,PAY_CODE,CONTRACT_NAME,CONTRACT_PASSWD,ACCOUNT_LIMIT,GROUP_ID,FINISH_FLAG,OP_CODE,OP_TIME,LOGIN_NO,LOGIN_ACCEPT,REPRESENT_PHONE,CONTRACTATT_TYPE,CONTRACT_NAME_ENCRYPT,</div><div>&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>from ac_contract_info;</div><div>--账务关系</div><div>Insert into AC_CONUSER_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(SERV_ACCT_ID, CONTRACT_NO, ACCT_ITEMS, PAY_TYPE, PAY_VALUE, CHKOUT_PRI, BILL_ORDER, ID_NO, EFF_DATE, EXP_DATE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;SERV_ACCT_ID, CONTRACT_NO, ACCT_ITEMS, PAY_TYPE, PAY_VALUE, CHKOUT_PRI, BILL_ORDER, ID_NO, EFF_DATE, EXP_DATE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT,&#39;L2210072300004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>from AC_CONUSER_INFO</div><div>where id_no=22999999999974;</div><div>--用户品牌</div><div>Insert into UR_USERBRAND_REL_CHG</div><div>&nbsp;&nbsp;&nbsp;(ID_NO, BRAND_ID, EFF_DATE, EXP_DATE, FINISH_FLAG, LOGIN_NO, LOGIN_ACCEPT, OP_CODE, OP_TIME, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select ID_NO, BRAND_ID, EFF_DATE, EXP_DATE, FINISH_FLAG, LOGIN_NO, LOGIN_ACCEPT, OP_CODE, OP_TIME, &#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;from UR_USERBRAND_REL</div><div>where id_no=22999999999974;</div><div>Insert into UR_USERBRAND_REL_CHG</div><div>&nbsp;&nbsp;&nbsp;(ID_NO, BRAND_ID, EFF_DATE, EXP_DATE, FINISH_FLAG, LOGIN_NO, LOGIN_ACCEPT, OP_CODE, OP_TIME, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select ID_NO, BRAND_ID, EFF_DATE, EXP_DATE, FINISH_FLAG, LOGIN_NO, LOGIN_ACCEPT, OP_CODE, OP_TIME, &#39;L2210051700020267&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;from UR_USERBRAND_REL</div><div>where id_no=22999999999912;</div><div>--组成员</div><div>Insert into UR_USERTEAMMBR_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(MEMBER_ID, TEAM_ID, MEMBER_ROLE_ID, OBJECT_ID, STATE, STATE_DATE, EFF_DATE, EXP_DATE, MEMBER_DESC, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, ORDER_ID, OPER_TYPE, INSERT_TIME,DEAL_FLAG)</div><div>select MEMBER_ID, TEAM_ID, MEMBER_ROLE_ID, OBJECT_ID, STATE, STATE_DATE, EFF_DATE, EXP_DATE, MEMBER_DESC, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, &#39;L2210050100004614&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;</div><div>from UR_USERTEAMMBR_INFO</div><div>where login_accept = &#39;60000010043512&#39;;</div><div>--用户信息增量</div><div>Insert into UR_USER_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(ID_NO, PHONE_NO, CONTRACT_NO, CUST_ID, RUN_CODE, RUN_TIME, OWNER_TYPE, USER_GRADE_CODE, STOP_FLAG, OWED_FLAG, BILLING_CYCLE_TYPE_ID, BILL_TYPE, GROUP_FLAG, USER_PASSWD, PASSWD_TYPE, CREDIT_CODE, LIMIT_OWE, CMD_RIGHT, ASSURE_FLAG, CREATE_DATE, CREATE_LOGIN, GROUP_ID, OWNED_CHNL_ID, SERVICE_GROUP, COMPLETED_DATE, OPEN_TIME, BILL_START_TIME, BILL_END_TIME, FIRST_USEDATE, RENT_DATE, STOP_RENT_DATE, PHOTO_FLAG, CARD_TYPE, VIP_CARD_NO, VIP_CREATE_TYPE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, BAK_FIELD, MASTER_SERV_ID, OLD_RUN, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;ID_NO, PHONE_NO, CONTRACT_NO, CUST_ID, RUN_CODE, RUN_TIME, OWNER_TYPE, USER_GRADE_CODE, STOP_FLAG, OWED_FLAG, BILLING_CYCLE_TYPE_ID, BILL_TYPE, GROUP_FLAG, USER_PASSWD, PASSWD_TYPE, CREDIT_CODE, LIMIT_OWE, CMD_RIGHT, ASSURE_FLAG, CREATE_DATE, CREATE_LOGIN, GROUP_ID, OWNED_CHNL_ID, SERVICE_GROUP, COMPLETED_DATE, OPEN_TIME, BILL_START_TIME, BILL_END_TIME, FIRST_USEDATE, RENT_DATE, STOP_RENT_DATE, PHOTO_FLAG, CARD_TYPE, VIP_CARD_NO, VIP_CREATE_TYPE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, BAK_FIELD, MASTER_SERV_ID, OLD_RUN,&#39;L2210050100004614&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from UR_USER_INFO</div><div>where id_no=22999999999974;</div><div>--组实例增量</div><div>Insert into UR_USERTEAM_INFO_CHG</div><div>(TEAM_ID, ID_NO, TEAM_TYPE, TEAM_NAME, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, EFF_DATE, EXP_DATE, STATE, STATE_DATE, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select TEAM_ID, ID_NO, TEAM_TYPE, TEAM_NAME, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, EFF_DATE, EXP_DATE, STATE, STATE_DATE, &#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from&nbsp;&nbsp;UR_USERTEAM_INFO</div><div>where&nbsp;&nbsp;team_id=&#39;60009743402&#39;;</div><div>--组成员 增量</div><div>Insert into UR_USERTEAMMBR_INFO_chg</div><div>(MEMBER_ID, TEAM_ID, MEMBER_ROLE_ID, OBJECT_ID, STATE, STATE_DATE, EFF_DATE, EXP_DATE, MEMBER_DESC, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;</div><div>MEMBER_ID, TEAM_ID, MEMBER_ROLE_ID, OBJECT_ID, STATE, STATE_DATE, EFF_DATE, EXP_DATE, MEMBER_DESC, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, &#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from UR_USERTEAMMBR_INFO</div><div>where&nbsp;&nbsp;&nbsp;MEMBER_ID=&nbsp;&nbsp;and TEAM_ID=;</div><div>---</div><div>Insert into UR_USERGROUP_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(GROUP_ID, GROUP_TYPE, ID_NO, GROUP_CODE, GROUP_DESC, LOCK_FLAG, FINISH_FLAG, LOGIN_ACCEPT, LOGIN_NO, OP_TIME, OP_CODE, EFF_DATE, EXP_DATE, STATE, STATE_DATE, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select GROUP_ID, GROUP_TYPE, ID_NO, GROUP_CODE, GROUP_DESC, LOCK_FLAG, FINISH_FLAG, LOGIN_ACCEPT, LOGIN_NO, OP_TIME, OP_CODE, EFF_DATE, EXP_DATE, STATE, STATE_DATE,&#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from UR_USERGROUP_INFO</div><div>where GROUP_ID= ;</div><div>---群成员&nbsp;&nbsp;</div><div>INSERT INTO UR_USERGROUPMBR_INFO_CHG</div><div>(MEMBER_ID, GROUP_ID, MEMBER_ROLE_ID, OBJECT_TYPE, OBJECT_ID, LOCK_FLAG, STATE, STATE_DATE, MEMBER_DESC, EFF_DATE, EXP_DATE, FINISH_FLAG, OP_CODE, LOGIN_NO, OP_TIME, LOGIN_ACCEPT,ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>SELECT MEMBER_ID, GROUP_ID, MEMBER_ROLE_ID, OBJECT_TYPE, OBJECT_ID, LOCK_FLAG, STATE, STATE_DATE, MEMBER_DESC, EFF_DATE, EXP_DATE, FINISH_FLAG, OP_CODE, LOGIN_NO, OP_TIME, LOGIN_ACCEPT, &#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>FROM UR_USERGROUPMBR_INFO</div><div>WHERE MEMBER_ID=2600081475;</div><div>INSERT INTO ur_billday_info_chg</div><div>(contract_no,id_no,phone_no,bill_day,eff_date,exp_date,dur_flag,ORDER_ID,OPER_TYPE,INSERT_TIME,order_level)</div><div>select</div><div>contract_no,id_no,phone_no,bill_day,eff_date,exp_date,dur_flag,&#39;L2210050100004614&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;10&#39; as order_level</div><div>from ${owner}.UR_BILLDAY_INFO_TT${BATCH}</div><div>where CITY in ${citylist};</div><div>--亲情号码：</div><div>&nbsp;&nbsp;INSERT INTO PD_USERPRCATTR_INFO_CHG</div><div>(PRODPRCINS_ID,ATTR_ID,ATTR_NO,ATTR_VALUE,GRP_NO,PROD_PRCID,ID_NO,EFF_DATE,EXP_DATE,LOGIN_NO,</div><div>LOGIN_ACCEPT,OP_TIME,OP_CODE,FINISH_FLAG,SERV_ORDER_ID,ORDER_ID,OPER_TYPE,INSERT_TIME,DEAL_FLAG)</div><div>SELECT</div><div>PRODPRCINS_ID,ATTR_ID,ATTR_NO,ATTR_VALUE,GRP_NO,PROD_PRCID,ID_NO,EFF_DATE,EXP_DATE,LOGIN_NO,</div><div>LOGIN_ACCEPT,OP_TIME,OP_CODE,FINISH_FLAG,SERV_ORDER_ID,&#39;L201006090022&#39; ORDER_ID,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;U&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>FROM PD_USERPRCATTR_INFO</div><div>WHERE&nbsp;&nbsp;&nbsp;prod_prcid=&#39;PIBP12571&#39;&nbsp;&nbsp;and&nbsp;&nbsp;&nbsp;attr_id =any(&#39;P142&#39;,&#39;P160&#39;);</div><div>--转移关系表</div><div>Insert into AC_USERTRANS_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(FROM_ID_NO, FROM_PHONE_NO, ACCT_ITEM, TO_ID_NO, TO_PHONE_NO, TRANS_TYPE, EFF_DATE, EXP_DATE, LOGIN_NO, OP_TIME, REMARK, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG, LOGIN_ACCEPT)</div><div>select FROM_ID_NO, FROM_PHONE_NO, ACCT_ITEM, TO_ID_NO, TO_PHONE_NO, TRANS_TYPE, EFF_DATE, EXP_DATE, LOGIN_NO, OP_TIME, REMARK, &#39;L2210050100000807&#39; ORDER_ID, &#39;D&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG,LOGIN_ACCEPT</div><div>&nbsp;&nbsp;from&nbsp;&nbsp;AC_USERTRANS_INFO</div><div>&nbsp;&nbsp;</div><div>&nbsp;&nbsp;</div><div>&nbsp;&nbsp;</div><div>&nbsp;&nbsp;select * from DBACCADM.PD_BILLPRCPLAN_BILL</div><div>where bill_prcid in (&#39;00757&#39;,&#39;00808&#39;,&#39;A0534SM&#39;,&#39;A0518MN&#39;,&#39;00782&#39;,&#39;00065GP&#39;);</div><div>update ur_user_info a&nbsp;&nbsp;&nbsp;set&nbsp;&nbsp;a.bill_start_time=</div><div>(select b.begin_time FROM UR_USEREXPIRE_INFO b&nbsp;&nbsp;where&nbsp;&nbsp;&nbsp;&nbsp;b.EXPIRE_TYPE = &#39;1&#39; and a.id_no=b.id_no and b.begin_time&lt;&gt;a.bill_start_time)and a.id_no=b.id_no)&nbsp;&nbsp;</div><div>where exists (select 1 from UR_USEREXPIRE_INFO b where a.id_no=b.id_no and b.EXPIRE_TYPE = &#39;1&#39;and b.begin_time&lt;&gt;a.bill_start_time );</div><div>Insert into UR_USER_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(ID_NO, PHONE_NO, CONTRACT_NO, CUST_ID, RUN_CODE, RUN_TIME, OWNER_TYPE, USER_GRADE_CODE, STOP_FLAG, OWED_FLAG, BILLING_CYCLE_TYPE_ID, BILL_TYPE, GROUP_FLAG, USER_PASSWD, PASSWD_TYPE, CREDIT_CODE, LIMIT_OWE, CMD_RIGHT, ASSURE_FLAG, CREATE_DATE, CREATE_LOGIN, GROUP_ID, OWNED_CHNL_ID, SERVICE_GROUP, COMPLETED_DATE, OPEN_TIME, BILL_START_TIME, BILL_END_TIME, FIRST_USEDATE, RENT_DATE, STOP_RENT_DATE, PHOTO_FLAG, CARD_TYPE, VIP_CARD_NO, VIP_CREATE_TYPE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, BAK_FIELD, MASTER_SERV_ID, OLD_RUN, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;ID_NO, PHONE_NO, CONTRACT_NO, CUST_ID, RUN_CODE, RUN_TIME, OWNER_TYPE, USER_GRADE_CODE, STOP_FLAG, OWED_FLAG, BILLING_CYCLE_TYPE_ID, BILL_TYPE, GROUP_FLAG, USER_PASSWD, PASSWD_TYPE, CREDIT_CODE, LIMIT_OWE, CMD_RIGHT, ASSURE_FLAG, CREATE_DATE, CREATE_LOGIN, GROUP_ID, OWNED_CHNL_ID, SERVICE_GROUP, COMPLETED_DATE, OPEN_TIME, BILL_START_TIME, BILL_END_TIME, FIRST_USEDATE, RENT_DATE, STOP_RENT_DATE, PHOTO_FLAG, CARD_TYPE, VIP_CARD_NO, VIP_CREATE_TYPE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, BAK_FIELD, MASTER_SERV_ID, OLD_RUN,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from UR_USER_INFO a</div><div>where id_no in&nbsp;&nbsp;(select a.id_No FROM UR_USEREXPIRE_INFO b&nbsp;&nbsp;where&nbsp;&nbsp;&nbsp;&nbsp;b.EXPIRE_TYPE = &#39;1&#39; and a.id_no=b.id_no and b.begin_time&lt;&gt;a.bill_start_time);</div><div>&quot;update ur_user_info a</div><div>&nbsp;&nbsp;&nbsp;set a.bill_start_time = (select b.begin_time</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from UR_USEREXPIRE_INFO b</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where a.id_no = b.id_no</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and to_char(b.begin_time,&#39;yyyymmdd&#39;) &lt;&gt; to_char( a.bill_start_time,&#39;yyyymmdd&#39;) and a.master_serv_id =&#39;1002&#39;&nbsp;&nbsp;&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and b.EXPIRE_TYPE = &#39;1&#39; )</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div>where exists (select 1</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from UR_USEREXPIRE_INFO b</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where a.id_no = b.id_no</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and to_char(b.begin_time,&#39;yyyymmdd&#39;) &lt;&gt; to_char( a.bill_start_time,&#39;yyyymmdd&#39;)&nbsp;&nbsp;and a.master_serv_id =&#39;1002&#39;&nbsp;&nbsp;&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and b.EXPIRE_TYPE = &#39;1&#39; );&quot;</div><div>A库；6813&nbsp;&nbsp;</div><div>B库：791</div><div>select * from IN_CBTABLE_SYNC_RELATION where source_table like &#39;%UR_SERVADDNUM_INFO%&#39;</div><div>资费关系打增量</div><div style=\"font-size: 14px; white-space: normal; widows: 1;\"><span style=\"font-family: &quot;Microsoft YaHei UI&quot;; font-variant-numeric: normal; font-variant-east-asian: normal; line-height: 21px;\">----WRES&nbsp;执行</span></div><div style=\"font-size: 14px; white-space: normal; widows: 1;\"><div><span style=\"font-family: &quot;Microsoft YaHei UI&quot;; font-variant-numeric: normal; font-variant-east-asian: normal; line-height: 21px;\">INSERT&nbsp;INTO&nbsp;PD_PRCRELTRIG_INFO(ELEMENT_TYPEA,&nbsp;ELEMENT_IDA,&nbsp;ELEMENT_TYPEB,&nbsp;ELEMENT_IDB,&nbsp;GROUP_ID,&nbsp;RELATION_TYPE,&nbsp;CHANNEL_TYPE,&nbsp;BASE_TIME_TYPE,&nbsp;EFF_RULE_ID,&nbsp;EXP_RULE_ID,&nbsp;CTRL_TYPE,&nbsp;CTRL_CODE,&nbsp;EFF_DATE,&nbsp;EXP_DATE,&nbsp;POWER_RIGHT,&nbsp;POSITIVE_TYPE,&nbsp;BOTHWAY_FLAG,&nbsp;CREATE_LOGIN,&nbsp;CREATE_TIME,&nbsp;VERSION,&nbsp;TENANTID,&nbsp;OP_TYPE,&nbsp;FINISH_TIME,&nbsp;OP_CODE,&nbsp;LOGIN_ACCEPT,&nbsp;OP_TIME,&nbsp;LOGIN_NO,&nbsp;REMARK,&nbsp;DSP_UPDATE_TIME,&nbsp;DSP_ACCEPT,&nbsp;DSP_STATUS,&nbsp;DSP_POSITION)</span></div><div><span style=\"font-family: &quot;Microsoft YaHei UI&quot;; font-variant-numeric: normal; font-variant-east-asian: normal; line-height: 21px;\">values(&#39;1&#39;,&#39;PIBP7700216&#39;,&nbsp;&#39;1&#39;,&nbsp;&nbsp;&#39;X&#39;,&nbsp;&#39;10017&#39;,&nbsp;&#39;10&#39;,&#39;1&#39;,&#39;0&#39;,&nbsp;&#39;1001&#39;,&nbsp;&#39;1023&#39;,&nbsp;&#39;0&#39;,&#39;0&#39;,SYSDATE,&nbsp;to_date(&#39;31-12-2099&nbsp;23:59:59&#39;,&nbsp;&#39;dd-mm-yyyy&nbsp;hh24:mi:ss&#39;),&nbsp;11,&nbsp;&#39;1&#39;,&nbsp;&#39;0&#39;,&nbsp;&#39;system&#39;,&nbsp;SYSDATE,&nbsp;1.0,&nbsp;&#39;0&#39;,&nbsp;&#39;A&#39;,&nbsp;SYSDATE,&nbsp;&#39;0000&#39;,&nbsp;null,&nbsp;SYSDATE,&nbsp;&#39;system&#39;,&nbsp;&#39;test&#39;,&nbsp;SYSDATE,&nbsp;null,&nbsp;&#39;0&#39;,&nbsp;&#39;0&#39;);</span></div></div><p><br/></p>","cnNoteId":"4e55265d-c473-4786-a1cb-a6fadb2ba50d","cnNoteTitle":"打增量"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 17:21:10,200:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：12mm
2023-03-10 17:21:27,361:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/cloudnote/user/logout.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 17:21:27,363:INFO http-nio-8088-exec-9 (SendMsgService.java:24) - 消息主题:del_surplus_image_files,消息内容:d1a76f6a-073c-4655-a2cc-7d223521d374
2023-03-10 17:21:27,371:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"msg":"用户退出成功","status":0}
2023-03-10 17:21:27,372:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：11mm
2023-03-10 17:21:29,746:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/cloudnote/user/login.do,方法:GET,参数:name=hyl111&password=123456
2023-03-10 17:21:29,759:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","msg":"登录成功","status":0}
2023-03-10 17:21:29,759:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：13mm
2023-03-10 17:21:29,778:INFO http-nio-8088-exec-2 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-10 17:21:29,784:INFO http-nio-8088-exec-2 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-10 17:21:29,784:INFO http-nio-8088-exec-2 (LogAop.java:73) - 执行时长：6mm
2023-03-10 17:21:31,077:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-10 17:21:31,081:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1676550385218,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNoteCreateTime":1677926483270,"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteLastModifyTime":1677926483270,"cnNoteStatusId":"1","cnNoteTitle":"232131","cnNoteTypeId":"129","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 17:21:31,081:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：4mm
2023-03-10 17:21:32,144:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03"}
2023-03-10 17:21:32,153:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"","cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteTitle":"232131"},"msg":"打开笔记成功","status":0}
2023-03-10 17:21:32,153:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：9mm
2023-03-10 17:21:33,401:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03"}
2023-03-10 17:21:33,408:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"","cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteTitle":"232131"},"msg":"打开笔记成功","status":0}
2023-03-10 17:21:33,408:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：7mm
2023-03-10 17:21:35,615:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/shareNote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03"}
2023-03-10 17:21:35,651:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"msg":"分享笔记成功","status":0}
2023-03-10 17:21:35,651:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：36mm
2023-03-10 17:21:38,022:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:
2023-03-10 17:21:38,039:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteBody":"","cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteTitle":"232131"},{"cnNoteBody":"<div>&gt;CS_CRMA</div><div>DBCUSTOPR/jwu7fCnx@(DESCRIPTION=(ADDRESS_LIST=(FAILOVER=ON)(LOAD_BALANCE=OFF)(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.55)(PORT=1521)))(CONNECT_DATA=(SERVICE_NAME=actcrma)))</div><div>&gt;CS_CRMB</div><div>DBCUSTOPR/jwu7fCnx@(DESCRIPTION=(ADDRESS_LIST=(FAILOVER=ON)(LOAD_BALANCE=OFF)(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.56)(PORT=1521)))(CONNECT_DATA=(SERVICE_NAME=actcrmb)))</div><div>&gt;CS_CENTER</div><div>DBCUSTOPR/jwu7fCnx@(DESCRIPTION=(ADDRESS_LIST=(FAILOVER=ON)(LOAD_BALANCE=OFF)(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.57)(PORT=1521)))(CONNECT_DATA=(SERVICE_NAME=actcase)))</div><div>&gt;CS_CENTER(OLD)</div><div>DBCUSTOPR/jwu7fCnx@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=152.55.229.209)(PORT=1521))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=CENTER)))</div><div>&gt;CS_ORDER</div><div>DBORDERADM/DBORDERADM@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=152.55.229.208)(PORT=1522))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=qudao)))</div><div>&gt;CS_BOSSA</div><div>dbaccopr/Lf5k3rcf@(DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = 10.243.208.65)(PORT = 1521)) (CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME = stdwaccta))</div><div>&gt;CS_BOSSB</div><div>dbaccopr/Lf5k3rcf@(DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = 10.243.208.66)(PORT = 1521)) (CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME = stbwacctb)))</div><p><br/></p><p>&gt;ZSC_CRMA</p><div><p>dbcustopr/dbcustopr@(DESCRIPTION =(ADDRESS = (PROTOCOL = TCP)(HOST = 10.243.208.49)(PORT = 1521))(CONNECT_DATA =(SERVER = DEDICATED)(SERVICE_NAME = actcrma)))</p></div><div>&gt;ZSC_CRMB</div><div><p>dbcustopr/dbcustopr@(DESCRIPTION =(ADDRESS = (PROTOCOL = TCP)(HOST = 10.243.208.52)(PORT = 1521))(CONNECT_DATA =(SERVER = DEDICATED)(SERVICE_NAME = actcrmb)))</p></div><div>&gt;ZSC_CENTER</div><div><p>dbcustopr/dbcustopr@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.225)(PORT=1521))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=wres)))</p></div><div>&gt;ZSC_ORDER</div><div>DBORDERADM/DBORDERADM@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.44)(PORT=1521))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=worddb)))</div><div>&gt;ZSC_BOSSA</div><div><p>dbaccopr/dbaccopr@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.50)(PORT=1521))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=waccta)))</p></div><div>&gt;ZSC_BOSSB</div><div>dbaccopr/dbaccopr@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=10.243.208.51)(PORT=1521))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=wacctb)))</div><p><br/></p>","cnNoteId":"a53039ac-c9a9-4236-b22e-2317e814f083","cnNoteTitle":"数据库TNS校正版"},{"cnNoteBody":"<div>1.需要打增量表列表</div><div>AC_CONUSER_INFO_CHG</div><div>AC_USERTRANS_INFO_CHG</div><div>PD_USERPRCATTR_INFO_CHG</div><div>PD_USERPRCSP_INFO_CHG</div><div>PD_USERPRC_INFO_CHG</div><div>PD_USERSVCTRACE_INFO_CHG</div><div>PD_USERSVC_INFO_CHG</div><div>---*注意*----</div><div>--*以上四表，注意更新生效时间的时候，不能打更新操作的增量。（生效时间不能变更）*--</div><div>UR_USERBRAND_REL_CHG</div><div>UR_USERGROUPMBR_INFO_CHG</div><div>UR_USERGROUP_INFO_CHG</div><div>UR_USERTEAMMBR_INFO_CHG</div><div>UR_USERTEAM_INFO_CHG</div><div>UR_USER_INFO_CHG</div><div>如果服务、资费等几个pd的表 刷的话 要先刷资费</div><div>2.根据下面的字段含义可以结合每个CHG表有哪些字段，从而知道该表同步哪些增量</div><div>同步计费的增量需要注意，因为可能只同步某几个字段，表主键与源表有出入，如果手工刷新数据，涉及更新计费内存数据主键时需要注意。</div><div>一般生效时间是不能修改的，需要删除后再插入，失效时间可以更新。</div><div>Name&nbsp;&nbsp;&nbsp;&nbsp;Code&nbsp;&nbsp;&nbsp;&nbsp;Data Type&nbsp;&nbsp;&nbsp;&nbsp;Length&nbsp;&nbsp;&nbsp;&nbsp;Precision&nbsp;&nbsp;&nbsp;&nbsp;Mandatory&nbsp;&nbsp;&nbsp;&nbsp;Primary Identifier&nbsp;&nbsp;&nbsp;&nbsp;Displayed&nbsp;&nbsp;&nbsp;&nbsp;Domain</div><div>同步账务增量信息&nbsp;&nbsp;&nbsp;&nbsp;A_ERRMSG&nbsp;&nbsp;&nbsp;&nbsp;Variable characters (256)&nbsp;&nbsp;&nbsp;&nbsp;256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;TRUE&nbsp;&nbsp;&nbsp;&nbsp;&lt;None&gt;</div><div>同步计费增量信息&nbsp;&nbsp;&nbsp;&nbsp;B_ERRMSG&nbsp;&nbsp;&nbsp;&nbsp;Variable characters (256)&nbsp;&nbsp;&nbsp;&nbsp;256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;TRUE&nbsp;&nbsp;&nbsp;&nbsp;&lt;None&gt;</div><div>同步网关增量信息&nbsp;&nbsp;&nbsp;&nbsp;O_ERRMSG&nbsp;&nbsp;&nbsp;&nbsp;Variable characters (256)&nbsp;&nbsp;&nbsp;&nbsp;256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;TRUE&nbsp;&nbsp;&nbsp;&nbsp;&lt;None&gt;</div><div>同步OCS增量信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C_ERRMSG&nbsp;&nbsp;&nbsp;&nbsp;Variable characters (256)&nbsp;&nbsp;&nbsp;&nbsp;256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;FALSE&nbsp;&nbsp;&nbsp;&nbsp;TRUE&nbsp;&nbsp;&nbsp;&nbsp;&lt;None&gt;</div><div>3.操作说明：</div><div>（1）OPER_TYPE为‘X’更新操作：&nbsp;&nbsp;&nbsp;</div><div>ORDER_ID 填订单行编号</div><div>where条件可以自己选择为需要更新的那条记录，可以选择只刷新需要更新的表的增量。</div><div>先在物理数据库中更新，然后刷增量，刷增量前先保证物理数据库的记录是正确的。</div><div>（2）插入操作类似。OPER_TYPE为‘I’</div><div>（3）删除操作：OPER_TYPE为‘D’</div><div>--*注意*--</div><div>要刷新删除操作的增量，需要先刷新增量，再在物理数据库做删除操作。</div><div>不可以将更新操作拆分为先删除后插入来刷新增量，因为不是一个事务。</div><div>--*注意*--PD_USERPRCSP_INFO&nbsp;&nbsp;pd_userprcsp_info_chg</div><div>如果更新sp业务(PD_USERPRCSP_INFO_92)，要刷新服务实例表的增量(pd_usersvc_info_chg)，刷新对应的服务实例。</div><div>sp资费表的增量删除操作，现增加PD_USERPRCSP_INFO_CHG，若是删除操作，需要打PD_USERPRCSP_INFO_CHG增量。</div><div>tsql</div><div>select * from dba_tables</div><div>select * from user_bill_plan where&nbsp;&nbsp;msisdn=&#39;&#39;;</div><div>--</div><div>Insert into pd_userprcsp_info_chg</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(PRODPRCINS_ID, ID_NO, OTHER_SVCNUM, SP_ID, BUSI_CODE, SPCHANGE_FLAG, OP_SOURCE, LOGIN_ACCEPT, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;PRODPRCINS_ID, ID_NO, OTHER_SVCNUM, SP_ID, BUSI_CODE, SPCHANGE_FLAG, OP_SOURCE, LOGIN_ACCEPT,&#39;L2210050100004614&#39; ORDER_ID, &#39;D&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;</div><div>from&nbsp;&nbsp;pd_userprcsp_info_22</div><div>where&nbsp;&nbsp;PRODPRCINS_ID=29000023454344;</div><div>--资费属性</div><div>Insert into PD_USERPRCATTR_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(PRODPRCINS_ID, ATTR_ID, ATTR_NO, ATTR_VALUE, GRP_NO, PROD_PRCID, ID_NO, EFF_DATE, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, FINISH_FLAG, SERV_ORDER_ID, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;PRODPRCINS_ID, ATTR_ID, ATTR_NO, ATTR_VALUE, GRP_NO, PROD_PRCID, ID_NO, EFF_DATE, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, FINISH_FLAG, SERV_ORDER_ID,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;</div><div>from PD_USERPRCATTR_INFO</div><div>where id_no=22999999999974;</div><div>----</div><div>Insert into&nbsp;&nbsp;PD_USERSVCATTRTRACE_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(SVCINS_ID, ID_NO, SVC_ID, ATTR_NO, ATTR_ID, EFF_DATE, ATTR_VALUE, GRP_NO, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, SERV_ORDER_ID, FINISH_FLAG, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>&nbsp;&nbsp;&nbsp;select&nbsp;&nbsp;SVCINS_ID, ID_NO, SVC_ID, ATTR_NO, ATTR_ID, EFF_DATE, ATTR_VALUE, GRP_NO, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, SERV_ORDER_ID, FINISH_FLAG,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>&nbsp;&nbsp;&nbsp;from PD_USERSVCATTRTRACE_INFO where id_no=&#39;&#39;;</div><div>--资费信息&nbsp;&nbsp;先做</div><div>Insert into PD_USERPRC_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(PRODPRCINS_ID, ID_NO, RELPRCINS_ID, PROD_PRCID, PROD_ID, PRICING_ID, EFF_DATE, EXP_DATE, STATE, STATE_DATE, LOGIN_NO, LOGIN_ACCEPT, GROUP_ID, TEAM_ID, PROD_MAIN_FLAG, SERV_ORDER_ID, DEVELOP_LOGIN, OP_TIME, OP_CODE, FINISH_FLAG, TRANPRCINS_ID, MEMBER_ID, PARPRC_ID, ORDER_DATE, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;PRODPRCINS_ID, ID_NO, RELPRCINS_ID, PROD_PRCID, PROD_ID, PRICING_ID, EFF_DATE, EXP_DATE, STATE, STATE_DATE, LOGIN_NO, LOGIN_ACCEPT, GROUP_ID, TEAM_ID, PROD_MAIN_FLAG, SERV_ORDER_ID, DEVELOP_LOGIN, OP_TIME, OP_CODE, FINISH_FLAG, TRANPRCINS_ID, MEMBER_ID, PARPRC_ID, ORDER_DATE,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;</div><div>from PD_USERPRC_INFO_74</div><div>where id_no=22999999999974;</div><div>--服务轨迹</div><div>Insert into PD_USERSVCTRACE_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(SVCINS_ID, PRODPRCINS_ID, ID_NO, SVC_ID, SVC_TYPE, EFF_DATE, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, SERV_ORDER_ID, FINISH_FLAG, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;SVCINS_ID, PRODPRCINS_ID, ID_NO, SVC_ID, SVC_TYPE, EFF_DATE, EXP_DATE, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, SERV_ORDER_ID, FINISH_FLAG,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>from PD_USERSVCTRACE_INFO_74</div><div>where id_no=22999999999974;</div><div>insert into PD_USERSVCATTR_INFO_chg (ID_NO, SVC_ID, ATTR_ID, ATTR_NO, ATTR_VALUE, GRP_NO, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, FINISH_FLAG, SERV_ORDER_ID, SVCINS_ID, ORDER_ID, OPER_TYPE, INSERT_TIME,&nbsp;&nbsp;DEAL_FLAG)</div><div>select&nbsp;&nbsp;ID_NO, SVC_ID, ATTR_ID, ATTR_NO, ATTR_VALUE, GRP_NO, LOGIN_NO, LOGIN_ACCEPT, OP_TIME, OP_CODE, FINISH_FLAG, SERV_ORDER_ID, SVCINS_ID, &#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE, SYSDATE INSERT_TIME, &#39;00000&#39; DEAL_FLAG</div><div>from PD_USERSVCATTR_INFO&nbsp;&nbsp;where id_no=18310003518511;</div><div>--服务实例 PD_USERSVC_INFO_CHG</div><div>Insert into pd_usersvc_info_chg</div><div>(ID_NO,SVC_ID,CREATE_DATE,STATE,LOGIN_ACCEPT,SERV_ORDER_ID,OP_TIME,OP_CODE,FINISH_FLAG,SVC_TYPE,STATE_DATE,LOGIN_NO,ORDER_ID,OPER_TYPE,INSERT_TIME,DEAL_FLAG)</div><div>select a.*,&#39;L2410060600009069&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>from pd_usersvc_info_74 a where id_no=22999999999974 and svc_id=&#39;BS0094&#39;;</div><div>--账户信息</div><div>insert into ac_contract_info_chg</div><div>(CONTRACT_NO,CUST_ID,STATUS_CODE,STATUS_TIME,ACCOUNT_TYPE,PAY_CODE,CONTRACT_NAME,CONTRACT_PASSWD,ACCOUNT_LIMIT,GROUP_ID,FINISH_FLAG,OP_CODE,OP_TIME,LOGIN_NO,LOGIN_ACCEPT,REPRESENT_PHONE,CONTRACTATT_TYPE,CONTRACT_NAME_ENCRYPT,</div><div>ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select</div><div>CONTRACT_NO,CUST_ID,STATUS_CODE,STATUS_TIME,ACCOUNT_TYPE,PAY_CODE,CONTRACT_NAME,CONTRACT_PASSWD,ACCOUNT_LIMIT,GROUP_ID,FINISH_FLAG,OP_CODE,OP_TIME,LOGIN_NO,LOGIN_ACCEPT,REPRESENT_PHONE,CONTRACTATT_TYPE,CONTRACT_NAME_ENCRYPT,</div><div>&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>from ac_contract_info;</div><div>--账务关系</div><div>Insert into AC_CONUSER_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(SERV_ACCT_ID, CONTRACT_NO, ACCT_ITEMS, PAY_TYPE, PAY_VALUE, CHKOUT_PRI, BILL_ORDER, ID_NO, EFF_DATE, EXP_DATE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;SERV_ACCT_ID, CONTRACT_NO, ACCT_ITEMS, PAY_TYPE, PAY_VALUE, CHKOUT_PRI, BILL_ORDER, ID_NO, EFF_DATE, EXP_DATE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT,&#39;L2210072300004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>from AC_CONUSER_INFO</div><div>where id_no=22999999999974;</div><div>--用户品牌</div><div>Insert into UR_USERBRAND_REL_CHG</div><div>&nbsp;&nbsp;&nbsp;(ID_NO, BRAND_ID, EFF_DATE, EXP_DATE, FINISH_FLAG, LOGIN_NO, LOGIN_ACCEPT, OP_CODE, OP_TIME, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select ID_NO, BRAND_ID, EFF_DATE, EXP_DATE, FINISH_FLAG, LOGIN_NO, LOGIN_ACCEPT, OP_CODE, OP_TIME, &#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;from UR_USERBRAND_REL</div><div>where id_no=22999999999974;</div><div>Insert into UR_USERBRAND_REL_CHG</div><div>&nbsp;&nbsp;&nbsp;(ID_NO, BRAND_ID, EFF_DATE, EXP_DATE, FINISH_FLAG, LOGIN_NO, LOGIN_ACCEPT, OP_CODE, OP_TIME, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select ID_NO, BRAND_ID, EFF_DATE, EXP_DATE, FINISH_FLAG, LOGIN_NO, LOGIN_ACCEPT, OP_CODE, OP_TIME, &#39;L2210051700020267&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;from UR_USERBRAND_REL</div><div>where id_no=22999999999912;</div><div>--组成员</div><div>Insert into UR_USERTEAMMBR_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(MEMBER_ID, TEAM_ID, MEMBER_ROLE_ID, OBJECT_ID, STATE, STATE_DATE, EFF_DATE, EXP_DATE, MEMBER_DESC, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, ORDER_ID, OPER_TYPE, INSERT_TIME,DEAL_FLAG)</div><div>select MEMBER_ID, TEAM_ID, MEMBER_ROLE_ID, OBJECT_ID, STATE, STATE_DATE, EFF_DATE, EXP_DATE, MEMBER_DESC, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, &#39;L2210050100004614&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;</div><div>from UR_USERTEAMMBR_INFO</div><div>where login_accept = &#39;60000010043512&#39;;</div><div>--用户信息增量</div><div>Insert into UR_USER_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(ID_NO, PHONE_NO, CONTRACT_NO, CUST_ID, RUN_CODE, RUN_TIME, OWNER_TYPE, USER_GRADE_CODE, STOP_FLAG, OWED_FLAG, BILLING_CYCLE_TYPE_ID, BILL_TYPE, GROUP_FLAG, USER_PASSWD, PASSWD_TYPE, CREDIT_CODE, LIMIT_OWE, CMD_RIGHT, ASSURE_FLAG, CREATE_DATE, CREATE_LOGIN, GROUP_ID, OWNED_CHNL_ID, SERVICE_GROUP, COMPLETED_DATE, OPEN_TIME, BILL_START_TIME, BILL_END_TIME, FIRST_USEDATE, RENT_DATE, STOP_RENT_DATE, PHOTO_FLAG, CARD_TYPE, VIP_CARD_NO, VIP_CREATE_TYPE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, BAK_FIELD, MASTER_SERV_ID, OLD_RUN, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;ID_NO, PHONE_NO, CONTRACT_NO, CUST_ID, RUN_CODE, RUN_TIME, OWNER_TYPE, USER_GRADE_CODE, STOP_FLAG, OWED_FLAG, BILLING_CYCLE_TYPE_ID, BILL_TYPE, GROUP_FLAG, USER_PASSWD, PASSWD_TYPE, CREDIT_CODE, LIMIT_OWE, CMD_RIGHT, ASSURE_FLAG, CREATE_DATE, CREATE_LOGIN, GROUP_ID, OWNED_CHNL_ID, SERVICE_GROUP, COMPLETED_DATE, OPEN_TIME, BILL_START_TIME, BILL_END_TIME, FIRST_USEDATE, RENT_DATE, STOP_RENT_DATE, PHOTO_FLAG, CARD_TYPE, VIP_CARD_NO, VIP_CREATE_TYPE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, BAK_FIELD, MASTER_SERV_ID, OLD_RUN,&#39;L2210050100004614&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from UR_USER_INFO</div><div>where id_no=22999999999974;</div><div>--组实例增量</div><div>Insert into UR_USERTEAM_INFO_CHG</div><div>(TEAM_ID, ID_NO, TEAM_TYPE, TEAM_NAME, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, EFF_DATE, EXP_DATE, STATE, STATE_DATE, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select TEAM_ID, ID_NO, TEAM_TYPE, TEAM_NAME, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, EFF_DATE, EXP_DATE, STATE, STATE_DATE, &#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from&nbsp;&nbsp;UR_USERTEAM_INFO</div><div>where&nbsp;&nbsp;team_id=&#39;60009743402&#39;;</div><div>--组成员 增量</div><div>Insert into UR_USERTEAMMBR_INFO_chg</div><div>(MEMBER_ID, TEAM_ID, MEMBER_ROLE_ID, OBJECT_ID, STATE, STATE_DATE, EFF_DATE, EXP_DATE, MEMBER_DESC, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;</div><div>MEMBER_ID, TEAM_ID, MEMBER_ROLE_ID, OBJECT_ID, STATE, STATE_DATE, EFF_DATE, EXP_DATE, MEMBER_DESC, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, &#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from UR_USERTEAMMBR_INFO</div><div>where&nbsp;&nbsp;&nbsp;MEMBER_ID=&nbsp;&nbsp;and TEAM_ID=;</div><div>---</div><div>Insert into UR_USERGROUP_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(GROUP_ID, GROUP_TYPE, ID_NO, GROUP_CODE, GROUP_DESC, LOCK_FLAG, FINISH_FLAG, LOGIN_ACCEPT, LOGIN_NO, OP_TIME, OP_CODE, EFF_DATE, EXP_DATE, STATE, STATE_DATE, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select GROUP_ID, GROUP_TYPE, ID_NO, GROUP_CODE, GROUP_DESC, LOCK_FLAG, FINISH_FLAG, LOGIN_ACCEPT, LOGIN_NO, OP_TIME, OP_CODE, EFF_DATE, EXP_DATE, STATE, STATE_DATE,&#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from UR_USERGROUP_INFO</div><div>where GROUP_ID= ;</div><div>---群成员&nbsp;&nbsp;</div><div>INSERT INTO UR_USERGROUPMBR_INFO_CHG</div><div>(MEMBER_ID, GROUP_ID, MEMBER_ROLE_ID, OBJECT_TYPE, OBJECT_ID, LOCK_FLAG, STATE, STATE_DATE, MEMBER_DESC, EFF_DATE, EXP_DATE, FINISH_FLAG, OP_CODE, LOGIN_NO, OP_TIME, LOGIN_ACCEPT,ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>SELECT MEMBER_ID, GROUP_ID, MEMBER_ROLE_ID, OBJECT_TYPE, OBJECT_ID, LOCK_FLAG, STATE, STATE_DATE, MEMBER_DESC, EFF_DATE, EXP_DATE, FINISH_FLAG, OP_CODE, LOGIN_NO, OP_TIME, LOGIN_ACCEPT, &#39;L2210050100000807&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>FROM UR_USERGROUPMBR_INFO</div><div>WHERE MEMBER_ID=2600081475;</div><div>INSERT INTO ur_billday_info_chg</div><div>(contract_no,id_no,phone_no,bill_day,eff_date,exp_date,dur_flag,ORDER_ID,OPER_TYPE,INSERT_TIME,order_level)</div><div>select</div><div>contract_no,id_no,phone_no,bill_day,eff_date,exp_date,dur_flag,&#39;L2210050100004614&#39; ORDER_ID, &#39;I&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;10&#39; as order_level</div><div>from ${owner}.UR_BILLDAY_INFO_TT${BATCH}</div><div>where CITY in ${citylist};</div><div>--亲情号码：</div><div>&nbsp;&nbsp;INSERT INTO PD_USERPRCATTR_INFO_CHG</div><div>(PRODPRCINS_ID,ATTR_ID,ATTR_NO,ATTR_VALUE,GRP_NO,PROD_PRCID,ID_NO,EFF_DATE,EXP_DATE,LOGIN_NO,</div><div>LOGIN_ACCEPT,OP_TIME,OP_CODE,FINISH_FLAG,SERV_ORDER_ID,ORDER_ID,OPER_TYPE,INSERT_TIME,DEAL_FLAG)</div><div>SELECT</div><div>PRODPRCINS_ID,ATTR_ID,ATTR_NO,ATTR_VALUE,GRP_NO,PROD_PRCID,ID_NO,EFF_DATE,EXP_DATE,LOGIN_NO,</div><div>LOGIN_ACCEPT,OP_TIME,OP_CODE,FINISH_FLAG,SERV_ORDER_ID,&#39;L201006090022&#39; ORDER_ID,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;U&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG</div><div>FROM PD_USERPRCATTR_INFO</div><div>WHERE&nbsp;&nbsp;&nbsp;prod_prcid=&#39;PIBP12571&#39;&nbsp;&nbsp;and&nbsp;&nbsp;&nbsp;attr_id =any(&#39;P142&#39;,&#39;P160&#39;);</div><div>--转移关系表</div><div>Insert into AC_USERTRANS_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(FROM_ID_NO, FROM_PHONE_NO, ACCT_ITEM, TO_ID_NO, TO_PHONE_NO, TRANS_TYPE, EFF_DATE, EXP_DATE, LOGIN_NO, OP_TIME, REMARK, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG, LOGIN_ACCEPT)</div><div>select FROM_ID_NO, FROM_PHONE_NO, ACCT_ITEM, TO_ID_NO, TO_PHONE_NO, TRANS_TYPE, EFF_DATE, EXP_DATE, LOGIN_NO, OP_TIME, REMARK, &#39;L2210050100000807&#39; ORDER_ID, &#39;D&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG,LOGIN_ACCEPT</div><div>&nbsp;&nbsp;from&nbsp;&nbsp;AC_USERTRANS_INFO</div><div>&nbsp;&nbsp;</div><div>&nbsp;&nbsp;</div><div>&nbsp;&nbsp;</div><div>&nbsp;&nbsp;select * from DBACCADM.PD_BILLPRCPLAN_BILL</div><div>where bill_prcid in (&#39;00757&#39;,&#39;00808&#39;,&#39;A0534SM&#39;,&#39;A0518MN&#39;,&#39;00782&#39;,&#39;00065GP&#39;);</div><div>update ur_user_info a&nbsp;&nbsp;&nbsp;set&nbsp;&nbsp;a.bill_start_time=</div><div>(select b.begin_time FROM UR_USEREXPIRE_INFO b&nbsp;&nbsp;where&nbsp;&nbsp;&nbsp;&nbsp;b.EXPIRE_TYPE = &#39;1&#39; and a.id_no=b.id_no and b.begin_time&lt;&gt;a.bill_start_time)and a.id_no=b.id_no)&nbsp;&nbsp;</div><div>where exists (select 1 from UR_USEREXPIRE_INFO b where a.id_no=b.id_no and b.EXPIRE_TYPE = &#39;1&#39;and b.begin_time&lt;&gt;a.bill_start_time );</div><div>Insert into UR_USER_INFO_CHG</div><div>&nbsp;&nbsp;&nbsp;(ID_NO, PHONE_NO, CONTRACT_NO, CUST_ID, RUN_CODE, RUN_TIME, OWNER_TYPE, USER_GRADE_CODE, STOP_FLAG, OWED_FLAG, BILLING_CYCLE_TYPE_ID, BILL_TYPE, GROUP_FLAG, USER_PASSWD, PASSWD_TYPE, CREDIT_CODE, LIMIT_OWE, CMD_RIGHT, ASSURE_FLAG, CREATE_DATE, CREATE_LOGIN, GROUP_ID, OWNED_CHNL_ID, SERVICE_GROUP, COMPLETED_DATE, OPEN_TIME, BILL_START_TIME, BILL_END_TIME, FIRST_USEDATE, RENT_DATE, STOP_RENT_DATE, PHOTO_FLAG, CARD_TYPE, VIP_CARD_NO, VIP_CREATE_TYPE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, BAK_FIELD, MASTER_SERV_ID, OLD_RUN, ORDER_ID, OPER_TYPE, INSERT_TIME, DEAL_FLAG)</div><div>select&nbsp;&nbsp;ID_NO, PHONE_NO, CONTRACT_NO, CUST_ID, RUN_CODE, RUN_TIME, OWNER_TYPE, USER_GRADE_CODE, STOP_FLAG, OWED_FLAG, BILLING_CYCLE_TYPE_ID, BILL_TYPE, GROUP_FLAG, USER_PASSWD, PASSWD_TYPE, CREDIT_CODE, LIMIT_OWE, CMD_RIGHT, ASSURE_FLAG, CREATE_DATE, CREATE_LOGIN, GROUP_ID, OWNED_CHNL_ID, SERVICE_GROUP, COMPLETED_DATE, OPEN_TIME, BILL_START_TIME, BILL_END_TIME, FIRST_USEDATE, RENT_DATE, STOP_RENT_DATE, PHOTO_FLAG, CARD_TYPE, VIP_CARD_NO, VIP_CREATE_TYPE, FINISH_FLAG, OP_CODE, OP_TIME, LOGIN_NO, LOGIN_ACCEPT, BAK_FIELD, MASTER_SERV_ID, OLD_RUN,&#39;L2210050100004614&#39; ORDER_ID, &#39;X&#39; OPER_TYPE,SYSDATE INSERT_TIME,&#39;00000&#39; DEAL_FLAG&nbsp;&nbsp;&nbsp;</div><div>from UR_USER_INFO a</div><div>where id_no in&nbsp;&nbsp;(select a.id_No FROM UR_USEREXPIRE_INFO b&nbsp;&nbsp;where&nbsp;&nbsp;&nbsp;&nbsp;b.EXPIRE_TYPE = &#39;1&#39; and a.id_no=b.id_no and b.begin_time&lt;&gt;a.bill_start_time);</div><div>&quot;update ur_user_info a</div><div>&nbsp;&nbsp;&nbsp;set a.bill_start_time = (select b.begin_time</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from UR_USEREXPIRE_INFO b</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where a.id_no = b.id_no</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and to_char(b.begin_time,&#39;yyyymmdd&#39;) &lt;&gt; to_char( a.bill_start_time,&#39;yyyymmdd&#39;) and a.master_serv_id =&#39;1002&#39;&nbsp;&nbsp;&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and b.EXPIRE_TYPE = &#39;1&#39; )</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div>where exists (select 1</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from UR_USEREXPIRE_INFO b</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where a.id_no = b.id_no</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and to_char(b.begin_time,&#39;yyyymmdd&#39;) &lt;&gt; to_char( a.bill_start_time,&#39;yyyymmdd&#39;)&nbsp;&nbsp;and a.master_serv_id =&#39;1002&#39;&nbsp;&nbsp;&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and b.EXPIRE_TYPE = &#39;1&#39; );&quot;</div><div>A库；6813&nbsp;&nbsp;</div><div>B库：791</div><div>select * from IN_CBTABLE_SYNC_RELATION where source_table like &#39;%UR_SERVADDNUM_INFO%&#39;</div><div>资费关系打增量</div><div style=\"font-size: 14px; white-space: normal; widows: 1;\"><span style=\"font-family: &quot;Microsoft YaHei UI&quot;; font-variant-numeric: normal; font-variant-east-asian: normal; line-height: 21px;\">----WRES&nbsp;执行</span></div><div style=\"font-size: 14px; white-space: normal; widows: 1;\"><div><span style=\"font-family: &quot;Microsoft YaHei UI&quot;; font-variant-numeric: normal; font-variant-east-asian: normal; line-height: 21px;\">INSERT&nbsp;INTO&nbsp;PD_PRCRELTRIG_INFO(ELEMENT_TYPEA,&nbsp;ELEMENT_IDA,&nbsp;ELEMENT_TYPEB,&nbsp;ELEMENT_IDB,&nbsp;GROUP_ID,&nbsp;RELATION_TYPE,&nbsp;CHANNEL_TYPE,&nbsp;BASE_TIME_TYPE,&nbsp;EFF_RULE_ID,&nbsp;EXP_RULE_ID,&nbsp;CTRL_TYPE,&nbsp;CTRL_CODE,&nbsp;EFF_DATE,&nbsp;EXP_DATE,&nbsp;POWER_RIGHT,&nbsp;POSITIVE_TYPE,&nbsp;BOTHWAY_FLAG,&nbsp;CREATE_LOGIN,&nbsp;CREATE_TIME,&nbsp;VERSION,&nbsp;TENANTID,&nbsp;OP_TYPE,&nbsp;FINISH_TIME,&nbsp;OP_CODE,&nbsp;LOGIN_ACCEPT,&nbsp;OP_TIME,&nbsp;LOGIN_NO,&nbsp;REMARK,&nbsp;DSP_UPDATE_TIME,&nbsp;DSP_ACCEPT,&nbsp;DSP_STATUS,&nbsp;DSP_POSITION)</span></div><div><span style=\"font-family: &quot;Microsoft YaHei UI&quot;; font-variant-numeric: normal; font-variant-east-asian: normal; line-height: 21px;\">values(&#39;1&#39;,&#39;PIBP7700216&#39;,&nbsp;&#39;1&#39;,&nbsp;&nbsp;&#39;X&#39;,&nbsp;&#39;10017&#39;,&nbsp;&#39;10&#39;,&#39;1&#39;,&#39;0&#39;,&nbsp;&#39;1001&#39;,&nbsp;&#39;1023&#39;,&nbsp;&#39;0&#39;,&#39;0&#39;,SYSDATE,&nbsp;to_date(&#39;31-12-2099&nbsp;23:59:59&#39;,&nbsp;&#39;dd-mm-yyyy&nbsp;hh24:mi:ss&#39;),&nbsp;11,&nbsp;&#39;1&#39;,&nbsp;&#39;0&#39;,&nbsp;&#39;system&#39;,&nbsp;SYSDATE,&nbsp;1.0,&nbsp;&#39;0&#39;,&nbsp;&#39;A&#39;,&nbsp;SYSDATE,&nbsp;&#39;0000&#39;,&nbsp;null,&nbsp;SYSDATE,&nbsp;&#39;system&#39;,&nbsp;&#39;test&#39;,&nbsp;SYSDATE,&nbsp;null,&nbsp;&#39;0&#39;,&nbsp;&#39;0&#39;);</span></div></div><p><br/></p>","cnNoteId":"4e55265d-c473-4786-a1cb-a6fadb2ba50d","cnNoteTitle":"打增量"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 17:21:38,041:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：19mm
2023-03-10 17:31:04,071:INFO main (SpringApplication.java:650) - The following profiles are active: dev
2023-03-10 17:31:12,346:INFO main (FileHandleConfig.java:36) - 获取到当前jar的所在路径:D:\workspace-person\cloudnotebook
2023-03-10 17:31:12,347:INFO main (FileHandleConfig.java:37) - 获取到ueditor.filePath所在路径:/root/hyl/static/image/upload/ueditor/
2023-03-10 17:31:21,555:INFO main (StartupInfoLogger.java:59) - Started CloudnoteApplication in 24.533 seconds (JVM running for 34.461)
2023-03-10 17:33:48,168:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-10 17:33:49,016:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-10 17:33:49,016:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：848mm
2023-03-10 17:35:05,326:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-10 17:35:05,448:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-10 17:35:05,449:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：123mm
2023-03-10 17:35:09,634:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-10 17:35:09,663:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1676550385218,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNoteCreateTime":1677926483270,"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteLastModifyTime":1677926483270,"cnNoteStatusId":"1","cnNoteTitle":"232131","cnNoteTypeId":"129","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 17:35:09,664:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：30mm
2023-03-10 17:35:10,683:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03"}
2023-03-10 17:35:11,395:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03"}
2023-03-10 17:35:11,888:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"","cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteTitle":"232131"},"msg":"打开笔记成功","status":0}
2023-03-10 17:35:11,888:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：1205mm
2023-03-10 17:35:11,889:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"","cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteTitle":"232131"},"msg":"打开笔记成功","status":0}
2023-03-10 17:35:11,889:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：494mm
2023-03-10 17:35:13,023:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/shareNote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03"}
2023-03-10 17:35:13,065:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"msg":"分享笔记成功","status":0}
2023-03-10 17:35:13,065:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：42mm
2023-03-10 17:35:14,916:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-10 17:35:14,927:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteBody":"","cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteTitle":"232131","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 17:35:14,927:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：12mm
2023-03-10 17:35:36,335:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-10 17:35:36,345:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteBody":"","cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteTitle":"232131","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 17:35:36,345:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：10mm
2023-03-10 17:37:47,676:INFO main (SpringApplication.java:650) - The following profiles are active: dev
2023-03-10 17:37:50,846:INFO main (FileHandleConfig.java:36) - 获取到当前jar的所在路径:D:\workspace-person\cloudnotebook
2023-03-10 17:37:50,846:INFO main (FileHandleConfig.java:37) - 获取到ueditor.filePath所在路径:/root/hyl/static/image/upload/ueditor/
2023-03-10 17:37:54,358:INFO main (StartupInfoLogger.java:59) - Started CloudnoteApplication in 8.88 seconds (JVM running for 10.91)
2023-03-10 17:39:08,188:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-10 17:39:08,899:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-10 17:39:08,900:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：711mm
2023-03-10 17:39:10,286:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-10 17:39:10,300:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1676550385218,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNoteCreateTime":1677926483270,"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteLastModifyTime":1677926483270,"cnNoteStatusId":"1","cnNoteTitle":"232131","cnNoteTypeId":"129","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 17:39:10,301:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：15mm
2023-03-10 17:39:10,925:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03"}
2023-03-10 17:39:11,627:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03"}
2023-03-10 17:39:12,315:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"","cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteTitle":"232131"},"msg":"打开笔记成功","status":0}
2023-03-10 17:39:12,315:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：1390mm
2023-03-10 17:39:12,315:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"","cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteTitle":"232131"},"msg":"打开笔记成功","status":0}
2023-03-10 17:39:12,316:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：689mm
2023-03-10 17:39:12,914:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/shareNote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03"}
2023-03-10 17:39:12,926:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"msg":"分享笔记成功","status":0}
2023-03-10 17:39:12,926:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：12mm
2023-03-10 17:39:15,278:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-10 17:39:15,289:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteBody":"","cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteTitle":"232131","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 17:39:15,290:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：12mm
2023-03-10 17:39:32,051:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-10 17:39:32,062:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteBody":"","cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteTitle":"232131","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 17:39:32,063:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：12mm
2023-03-10 17:40:29,577:INFO main (SpringApplication.java:650) - The following profiles are active: dev
2023-03-10 17:40:33,551:INFO main (FileHandleConfig.java:36) - 获取到当前jar的所在路径:D:\workspace-person\cloudnotebook
2023-03-10 17:40:33,551:INFO main (FileHandleConfig.java:37) - 获取到ueditor.filePath所在路径:/root/hyl/static/image/upload/ueditor/
2023-03-10 17:40:37,145:INFO main (StartupInfoLogger.java:59) - Started CloudnoteApplication in 10.001 seconds (JVM running for 13.649)
2023-03-10 17:44:10,590:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-10 17:45:12,974:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/cloudnote/user/logout.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-10 17:45:12,975:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/cloudnote/user/login.do,方法:GET,参数:name=hyl129&password=129520
2023-03-10 17:45:12,979:INFO http-nio-8088-exec-4 (SendMsgService.java:24) - 消息主题:del_surplus_image_files,消息内容:01de7842-635c-46a9-b0c1-89ba4cc1c5d0
2023-03-10 17:45:12,998:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"msg":"用户退出成功","status":0}
2023-03-10 17:45:12,999:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：25mm
2023-03-10 17:45:13,376:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":"d1a76f6a-073c-4655-a2cc-7d223521d374","msg":"登录成功","status":0}
2023-03-10 17:45:13,377:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：402mm
2023-03-10 17:45:13,437:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 17:45:13,506:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1660371295000,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnNotebookName":"数据库","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1677629106000,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnNotebookName":"面试题","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660374794000,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnNotebookName":"学习相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660370018000,"cnNotebookId":"a5d43bed-1980-4b9e-9985-36aee8403305","cnNotebookName":"开发相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660371629000,"cnNotebookId":"ce76fe6e-e604-4ac6-9c1e-df43ad64934b","cnNotebookName":"办公相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记本成功","status":0}
2023-03-10 17:45:13,506:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：69mm
2023-03-10 17:45:14,497:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteBody":"","cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteTitle":"232131","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 17:45:14,497:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：63907mm
2023-03-10 17:45:17,188:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 17:45:17,206:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteBody":"","cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteTitle":"232131","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 17:45:17,207:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：19mm
2023-03-10 17:45:25,012:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839"}
2023-03-10 17:45:25,039:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1677629470095,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteLastModifyTime":1677629470095,"cnNoteStatusId":"1","cnNoteTitle":"mybatis一级缓存和二级缓存","cnNoteTypeId":"1","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677629131083,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteLastModifyTime":1677629191800,"cnNoteStatusId":"1","cnNoteTitle":"什么是悲观锁和乐观锁","cnNoteTypeId":"129","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 17:45:25,039:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：27mm
2023-03-10 17:45:26,578:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0"}
2023-03-10 17:45:26,585:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteTitle":"什么是悲观锁和乐观锁"},"msg":"打开笔记成功","status":0}
2023-03-10 17:45:26,586:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：9mm
2023-03-10 17:45:28,150:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/shareNote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0"}
2023-03-10 17:45:28,222:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"msg":"分享笔记成功","status":0}
2023-03-10 17:45:28,222:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：72mm
2023-03-10 17:46:05,198:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 17:46:05,255:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1660371295000,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnNotebookName":"数据库","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1677629106000,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnNotebookName":"面试题","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660374794000,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnNotebookName":"学习相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660370018000,"cnNotebookId":"a5d43bed-1980-4b9e-9985-36aee8403305","cnNotebookName":"开发相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660371629000,"cnNotebookId":"ce76fe6e-e604-4ac6-9c1e-df43ad64934b","cnNotebookName":"办公相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记本成功","status":0}
2023-03-10 17:46:05,255:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：57mm
2023-03-10 17:46:08,647:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 17:46:08,669:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteTitle":"什么是悲观锁和乐观锁","isPersonShare":"N"},{"cnNoteBody":"","cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteTitle":"232131","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 17:46:08,671:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：24mm
2023-03-10 17:46:49,351:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 17:46:49,392:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteTitle":"什么是悲观锁和乐观锁","isPersonShare":"N"},{"cnNoteBody":"","cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteTitle":"232131","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 17:46:49,392:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：41mm
2023-03-10 17:49:47,539:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839"}
2023-03-10 17:49:49,513:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24"}
2023-03-10 17:49:50,064:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1660400106741,"cnNoteId":"4e55265d-c473-4786-a1cb-a6fadb2ba50d","cnNoteLastModifyTime":1660400115254,"cnNoteStatusId":"1","cnNoteTitle":"打增量","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400374473,"cnNoteId":"5b74988a-54ae-4f04-a2c7-6c9a648f2dc6","cnNoteLastModifyTime":1660400382628,"cnNoteStatusId":"1","cnNoteTitle":"给A00000SYS配1479模块的权限","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400137554,"cnNoteId":"a53039ac-c9a9-4236-b22e-2317e814f083","cnNoteLastModifyTime":1675216157843,"cnNoteStatusId":"1","cnNoteTitle":"数据库TNS校正版","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400161417,"cnNoteId":"f7a393e7-4197-49e1-9376-c3fac6f2cd65","cnNoteLastModifyTime":1660400167805,"cnNoteStatusId":"1","cnNoteTitle":"跨业务区办理业务","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 17:49:50,065:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：551mm
2023-03-10 17:49:50,073:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1677629470095,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteLastModifyTime":1677629470095,"cnNoteStatusId":"1","cnNoteTitle":"mybatis一级缓存和二级缓存","cnNoteTypeId":"1","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677629131083,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteLastModifyTime":1677629191800,"cnNoteStatusId":"1","cnNoteTitle":"什么是悲观锁和乐观锁","cnNoteTypeId":"129","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 17:49:50,074:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：2534mm
2023-03-10 17:49:50,369:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839"}
2023-03-10 17:49:50,381:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1677629470095,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteLastModifyTime":1677629470095,"cnNoteStatusId":"1","cnNoteTitle":"mybatis一级缓存和二级缓存","cnNoteTypeId":"1","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677629131083,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteLastModifyTime":1677629191800,"cnNoteStatusId":"1","cnNoteTitle":"什么是悲观锁和乐观锁","cnNoteTypeId":"129","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 17:49:50,381:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：12mm
2023-03-10 17:49:52,968:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0"}
2023-03-10 17:49:52,974:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteTitle":"什么是悲观锁和乐观锁"},"msg":"打开笔记成功","status":0}
2023-03-10 17:49:52,975:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：7mm
2023-03-10 17:49:53,984:INFO http-nio-8088-exec-2 (LogAop.java:66) - 请求URI:/notebook/shareNote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0"}
2023-03-10 17:49:53,994:INFO http-nio-8088-exec-2 (LogAop.java:70) - 请求结束，返回参数:{"msg":"该笔记已被分享过","status":1}
2023-03-10 17:49:53,995:INFO http-nio-8088-exec-2 (LogAop.java:73) - 执行时长：11mm
2023-03-10 17:59:15,139:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 18:00:28,080:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteTitle":"什么是悲观锁和乐观锁","isPersonShare":"N"},{"cnNoteBody":"","cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteTitle":"232131","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 18:00:28,081:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：72942mm
2023-03-10 18:00:41,440:INFO main (SpringApplication.java:650) - The following profiles are active: dev
2023-03-10 18:00:44,505:INFO main (FileHandleConfig.java:36) - 获取到当前jar的所在路径:D:\workspace-person\cloudnotebook
2023-03-10 18:00:44,506:INFO main (FileHandleConfig.java:37) - 获取到ueditor.filePath所在路径:/root/hyl/static/image/upload/ueditor/
2023-03-10 18:00:47,909:INFO main (StartupInfoLogger.java:59) - Started CloudnoteApplication in 10.754 seconds (JVM running for 13.064)
2023-03-10 18:01:02,377:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 18:01:03,255:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1660371295000,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnNotebookName":"数据库","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1677629106000,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnNotebookName":"面试题","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660374794000,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnNotebookName":"学习相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660370018000,"cnNotebookId":"a5d43bed-1980-4b9e-9985-36aee8403305","cnNotebookName":"开发相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660371629000,"cnNotebookId":"ce76fe6e-e604-4ac6-9c1e-df43ad64934b","cnNotebookName":"办公相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记本成功","status":0}
2023-03-10 18:01:03,256:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：879mm
2023-03-10 18:01:03,800:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 18:01:04,995:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteTitle":"什么是悲观锁和乐观锁","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","isPersonShare":"Y"},{"cnNoteBody":"","cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteTitle":"232131","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 18:01:04,997:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：1197mm
2023-03-10 19:30:03,364:INFO main (SpringApplication.java:650) - The following profiles are active: dev
2023-03-10 19:30:07,042:INFO main (FileHandleConfig.java:36) - 获取到当前jar的所在路径:D:\workspace-person\cloudnotebook
2023-03-10 19:30:07,042:INFO main (FileHandleConfig.java:37) - 获取到ueditor.filePath所在路径:/root/hyl/static/image/upload/ueditor/
2023-03-10 19:30:10,597:INFO main (StartupInfoLogger.java:59) - Started CloudnoteApplication in 9.553 seconds (JVM running for 13.358)
2023-03-10 19:30:59,047:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/cloudnote/user/login.do,方法:GET,参数:name=hyl129&password=129520
2023-03-10 19:30:59,826:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":"d1a76f6a-073c-4655-a2cc-7d223521d374","msg":"登录成功","status":0}
2023-03-10 19:30:59,827:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：780mm
2023-03-10 19:31:00,078:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 19:31:00,175:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1660371295000,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnNotebookName":"数据库","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1677629106000,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnNotebookName":"面试题","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660374794000,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnNotebookName":"学习相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660370018000,"cnNotebookId":"a5d43bed-1980-4b9e-9985-36aee8403305","cnNotebookName":"开发相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660371629000,"cnNotebookId":"ce76fe6e-e604-4ac6-9c1e-df43ad64934b","cnNotebookName":"办公相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记本成功","status":0}
2023-03-10 19:31:00,176:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：98mm
2023-03-10 19:31:03,747:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 19:31:13,099:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnShareBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnShareId":"66d69361-01f1-4e32-aa38-ed248097acca","cnShareTitle":"什么是悲观锁和乐观锁","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","isPersonShare":"Y"},{"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnShareBody":"","cnShareId":"d5b50f6e-2fdf-48dd-87f4-2503ba426155","cnShareTitle":"232131","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 19:31:13,102:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：9355mm
2023-03-10 19:31:22,581:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/delShareNote.do,方法:POST,参数:{"serialVersionUID":1,"cnShareId":"66d69361-01f1-4e32-aa38-ed248097acca"}
2023-03-10 19:31:22,584:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:null
2023-03-10 19:31:22,584:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：3mm
2023-03-10 19:31:22,597:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 19:31:22,614:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnShareBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnShareId":"66d69361-01f1-4e32-aa38-ed248097acca","cnShareTitle":"什么是悲观锁和乐观锁","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","isPersonShare":"Y"},{"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnShareBody":"","cnShareId":"d5b50f6e-2fdf-48dd-87f4-2503ba426155","cnShareTitle":"232131","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 19:31:22,616:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：19mm
2023-03-10 19:31:30,188:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 19:31:30,235:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1660371295000,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnNotebookName":"数据库","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1677629106000,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnNotebookName":"面试题","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660374794000,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnNotebookName":"学习相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660370018000,"cnNotebookId":"a5d43bed-1980-4b9e-9985-36aee8403305","cnNotebookName":"开发相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660371629000,"cnNotebookId":"ce76fe6e-e604-4ac6-9c1e-df43ad64934b","cnNotebookName":"办公相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记本成功","status":0}
2023-03-10 19:31:30,236:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：47mm
2023-03-10 19:31:34,392:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 19:31:34,419:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnShareBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnShareId":"66d69361-01f1-4e32-aa38-ed248097acca","cnShareTitle":"什么是悲观锁和乐观锁","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","isPersonShare":"Y"},{"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnShareBody":"","cnShareId":"d5b50f6e-2fdf-48dd-87f4-2503ba426155","cnShareTitle":"232131","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 19:31:34,420:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：28mm
2023-03-10 19:36:29,108:INFO main (SpringApplication.java:650) - The following profiles are active: dev
2023-03-10 19:36:32,069:INFO main (FileHandleConfig.java:36) - 获取到当前jar的所在路径:D:\workspace-person\cloudnotebook
2023-03-10 19:36:32,069:INFO main (FileHandleConfig.java:37) - 获取到ueditor.filePath所在路径:/root/hyl/static/image/upload/ueditor/
2023-03-10 19:36:35,006:INFO main (StartupInfoLogger.java:59) - Started CloudnoteApplication in 8.525 seconds (JVM running for 10.614)
2023-03-10 19:39:35,824:INFO http-nio-8088-exec-2 (LogAop.java:66) - 请求URI:/notebook/delShareNote.do,方法:POST,参数:{"serialVersionUID":1,"cnShareId":"66d69361-01f1-4e32-aa38-ed248097acca"}
2023-03-10 19:39:37,503:INFO http-nio-8088-exec-2 (LogAop.java:70) - 请求结束，返回参数:{"msg":"笔记取消分享成功","status":0}
2023-03-10 19:39:37,503:INFO http-nio-8088-exec-2 (LogAop.java:73) - 执行时长：1679mm
2023-03-10 19:39:37,599:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 19:39:37,650:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnShareBody":"","cnShareId":"d5b50f6e-2fdf-48dd-87f4-2503ba426155","cnShareTitle":"232131","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 19:39:37,651:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：52mm
2023-03-10 19:40:49,690:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 19:40:49,936:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1660371295000,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnNotebookName":"数据库","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1677629106000,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnNotebookName":"面试题","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660374794000,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnNotebookName":"学习相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660370018000,"cnNotebookId":"a5d43bed-1980-4b9e-9985-36aee8403305","cnNotebookName":"开发相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660371629000,"cnNotebookId":"ce76fe6e-e604-4ac6-9c1e-df43ad64934b","cnNotebookName":"办公相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记本成功","status":0}
2023-03-10 19:40:49,936:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：246mm
2023-03-10 19:40:51,028:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839"}
2023-03-10 19:40:51,048:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1677629470095,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteLastModifyTime":1677629470095,"cnNoteStatusId":"1","cnNoteTitle":"mybatis一级缓存和二级缓存","cnNoteTypeId":"1","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677629131083,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteLastModifyTime":1677629191800,"cnNoteStatusId":"1","cnNoteTitle":"什么是悲观锁和乐观锁","cnNoteTypeId":"129","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 19:40:51,049:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：21mm
2023-03-10 19:40:52,575:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215"}
2023-03-10 19:40:52,584:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"","cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteTitle":"mybatis一级缓存和二级缓存"},"msg":"打开笔记成功","status":0}
2023-03-10 19:40:52,585:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：10mm
2023-03-10 19:40:54,955:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/shareNote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215"}
2023-03-10 19:40:54,984:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"msg":"分享笔记成功","status":0}
2023-03-10 19:40:54,984:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：29mm
2023-03-10 19:40:57,849:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 19:40:57,910:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnShareBody":"","cnShareId":"3f6af568-35b7-4f98-bb62-a11cf6dd25d0","cnShareTitle":"mybatis一级缓存和二级缓存","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","isPersonShare":"Y"},{"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnShareBody":"","cnShareId":"d5b50f6e-2fdf-48dd-87f4-2503ba426155","cnShareTitle":"232131","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 19:40:57,910:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：61mm
2023-03-10 19:41:00,936:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/delShareNote.do,方法:POST,参数:{"serialVersionUID":1,"cnShareId":"3f6af568-35b7-4f98-bb62-a11cf6dd25d0"}
2023-03-10 19:41:00,943:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"msg":"笔记取消分享成功","status":0}
2023-03-10 19:41:00,944:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：8mm
2023-03-10 19:41:00,951:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 19:41:00,963:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnShareBody":"","cnShareId":"d5b50f6e-2fdf-48dd-87f4-2503ba426155","cnShareTitle":"232131","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 19:41:00,963:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：12mm
2023-03-10 19:41:04,365:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/delShareNote.do,方法:POST,参数:{"serialVersionUID":1,"cnShareId":"3f6af568-35b7-4f98-bb62-a11cf6dd25d0"}
2023-03-10 19:41:04,369:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"msg":"笔记取消分享失败","status":1}
2023-03-10 19:41:04,369:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：4mm
2023-03-10 19:41:04,375:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 19:41:04,384:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnShareBody":"","cnShareId":"d5b50f6e-2fdf-48dd-87f4-2503ba426155","cnShareTitle":"232131","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 19:41:04,385:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：10mm
2023-03-10 19:41:21,656:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/delShareNote.do,方法:POST,参数:{"serialVersionUID":1,"cnShareId":""}
2023-03-10 19:41:21,660:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"msg":"笔记取消分享失败","status":1}
2023-03-10 19:41:21,661:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：5mm
2023-03-10 19:41:21,672:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 19:41:21,684:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnShareBody":"","cnShareId":"d5b50f6e-2fdf-48dd-87f4-2503ba426155","cnShareTitle":"232131","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 19:41:21,684:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：12mm
2023-03-10 19:41:26,664:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839"}
2023-03-10 19:41:26,677:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1677629470095,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteLastModifyTime":1677629470095,"cnNoteStatusId":"1","cnNoteTitle":"mybatis一级缓存和二级缓存","cnNoteTypeId":"1","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677629131083,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteLastModifyTime":1677629191800,"cnNoteStatusId":"1","cnNoteTitle":"什么是悲观锁和乐观锁","cnNoteTypeId":"129","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 19:41:26,677:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：13mm
2023-03-10 19:41:27,959:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215"}
2023-03-10 19:41:27,967:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"","cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteTitle":"mybatis一级缓存和二级缓存"},"msg":"打开笔记成功","status":0}
2023-03-10 19:41:27,967:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：8mm
2023-03-10 19:41:29,743:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/shareNote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215"}
2023-03-10 19:41:29,761:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"msg":"分享笔记成功","status":0}
2023-03-10 19:41:29,762:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：19mm
2023-03-10 19:41:31,956:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 19:41:31,970:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnShareBody":"","cnShareId":"c30786fb-e38d-4a12-bb16-b69c97338d3a","cnShareTitle":"mybatis一级缓存和二级缓存","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","isPersonShare":"Y"},{"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnShareBody":"","cnShareId":"d5b50f6e-2fdf-48dd-87f4-2503ba426155","cnShareTitle":"232131","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 19:41:31,970:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：14mm
2023-03-10 19:41:34,947:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/delShareNote.do,方法:POST,参数:{"serialVersionUID":1,"cnShareId":"c30786fb-e38d-4a12-bb16-b69c97338d3a"}
2023-03-10 19:41:34,953:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"msg":"笔记取消分享成功","status":0}
2023-03-10 19:41:34,954:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：7mm
2023-03-10 19:41:34,962:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 19:41:34,973:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnShareBody":"","cnShareId":"d5b50f6e-2fdf-48dd-87f4-2503ba426155","cnShareTitle":"232131","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 19:41:34,973:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：11mm
2023-03-10 19:42:39,967:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 19:42:40,019:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1660371295000,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnNotebookName":"数据库","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1677629106000,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnNotebookName":"面试题","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660374794000,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnNotebookName":"学习相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660370018000,"cnNotebookId":"a5d43bed-1980-4b9e-9985-36aee8403305","cnNotebookName":"开发相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660371629000,"cnNotebookId":"ce76fe6e-e604-4ac6-9c1e-df43ad64934b","cnNotebookName":"办公相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记本成功","status":0}
2023-03-10 19:42:40,019:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：52mm
2023-03-10 19:42:52,213:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24"}
2023-03-10 19:42:52,225:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1660400106741,"cnNoteId":"4e55265d-c473-4786-a1cb-a6fadb2ba50d","cnNoteLastModifyTime":1660400115254,"cnNoteStatusId":"1","cnNoteTitle":"打增量","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400374473,"cnNoteId":"5b74988a-54ae-4f04-a2c7-6c9a648f2dc6","cnNoteLastModifyTime":1660400382628,"cnNoteStatusId":"1","cnNoteTitle":"给A00000SYS配1479模块的权限","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400137554,"cnNoteId":"a53039ac-c9a9-4236-b22e-2317e814f083","cnNoteLastModifyTime":1675216157843,"cnNoteStatusId":"1","cnNoteTitle":"数据库TNS校正版","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400161417,"cnNoteId":"f7a393e7-4197-49e1-9376-c3fac6f2cd65","cnNoteLastModifyTime":1660400167805,"cnNoteStatusId":"1","cnNoteTitle":"跨业务区办理业务","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 19:42:52,226:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：13mm
2023-03-10 19:42:53,323:INFO http-nio-8088-exec-2 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839"}
2023-03-10 19:42:53,327:INFO http-nio-8088-exec-2 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1677629470095,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteLastModifyTime":1677629470095,"cnNoteStatusId":"1","cnNoteTitle":"mybatis一级缓存和二级缓存","cnNoteTypeId":"1","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677629131083,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteLastModifyTime":1677629191800,"cnNoteStatusId":"1","cnNoteTitle":"什么是悲观锁和乐观锁","cnNoteTypeId":"129","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 19:42:53,328:INFO http-nio-8088-exec-2 (LogAop.java:73) - 执行时长：5mm
2023-03-10 19:42:55,536:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0"}
2023-03-10 19:42:55,541:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteTitle":"什么是悲观锁和乐观锁"},"msg":"打开笔记成功","status":0}
2023-03-10 19:42:55,542:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：6mm
2023-03-10 19:42:56,261:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215"}
2023-03-10 19:42:56,270:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"","cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteTitle":"mybatis一级缓存和二级缓存"},"msg":"打开笔记成功","status":0}
2023-03-10 19:42:56,270:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：9mm
2023-03-10 19:42:58,554:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0"}
2023-03-10 19:42:58,560:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteTitle":"什么是悲观锁和乐观锁"},"msg":"打开笔记成功","status":0}
2023-03-10 19:42:58,561:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：7mm
2023-03-10 19:42:59,219:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215"}
2023-03-10 19:42:59,226:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"","cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteTitle":"mybatis一级缓存和二级缓存"},"msg":"打开笔记成功","status":0}
2023-03-10 19:42:59,227:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：8mm
2023-03-10 19:43:02,350:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 19:43:02,361:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1660371295000,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnNotebookName":"数据库","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1677629106000,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnNotebookName":"面试题","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660374794000,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnNotebookName":"学习相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660370018000,"cnNotebookId":"a5d43bed-1980-4b9e-9985-36aee8403305","cnNotebookName":"开发相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660371629000,"cnNotebookId":"ce76fe6e-e604-4ac6-9c1e-df43ad64934b","cnNotebookName":"办公相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记本成功","status":0}
2023-03-10 19:43:02,362:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：12mm
2023-03-10 19:43:03,022:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839"}
2023-03-10 19:43:03,028:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1677629470095,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteLastModifyTime":1677629470095,"cnNoteStatusId":"1","cnNoteTitle":"mybatis一级缓存和二级缓存","cnNoteTypeId":"1","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677629131083,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteLastModifyTime":1677629191800,"cnNoteStatusId":"1","cnNoteTitle":"什么是悲观锁和乐观锁","cnNoteTypeId":"129","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 19:43:03,029:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：7mm
2023-03-10 19:43:03,841:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215"}
2023-03-10 19:43:03,848:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"","cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteTitle":"mybatis一级缓存和二级缓存"},"msg":"打开笔记成功","status":0}
2023-03-10 19:43:03,849:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：8mm
2023-03-10 19:43:05,502:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0"}
2023-03-10 19:43:05,506:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteTitle":"什么是悲观锁和乐观锁"},"msg":"打开笔记成功","status":0}
2023-03-10 19:43:05,507:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：5mm
2023-03-10 19:43:06,997:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0"}
2023-03-10 19:43:07,002:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteTitle":"什么是悲观锁和乐观锁"},"msg":"打开笔记成功","status":0}
2023-03-10 19:43:07,003:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：6mm
2023-03-10 19:43:10,727:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/shareNote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0"}
2023-03-10 19:43:10,759:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"msg":"分享笔记成功","status":0}
2023-03-10 19:43:10,760:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：33mm
2023-03-10 19:43:13,203:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 19:43:13,217:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnShareBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnShareId":"35f928c9-fb89-4921-ad0b-36df36fefbeb","cnShareTitle":"什么是悲观锁和乐观锁","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","isPersonShare":"Y"},{"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnShareBody":"","cnShareId":"d5b50f6e-2fdf-48dd-87f4-2503ba426155","cnShareTitle":"232131","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 19:43:13,218:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：15mm
2023-03-10 19:43:22,152:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/cloudnote/user/logout.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 19:43:22,155:INFO http-nio-8088-exec-1 (SendMsgService.java:24) - 消息主题:del_surplus_image_files,消息内容:d1a76f6a-073c-4655-a2cc-7d223521d374
2023-03-10 19:43:22,162:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"msg":"用户退出成功","status":0}
2023-03-10 19:43:22,162:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：10mm
2023-03-10 19:43:24,641:INFO http-nio-8088-exec-2 (LogAop.java:66) - 请求URI:/cloudnote/user/login.do,方法:GET,参数:name=hyl111&password=123456
2023-03-10 19:43:24,701:INFO http-nio-8088-exec-2 (LogAop.java:70) - 请求结束，返回参数:{"data":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","msg":"登录成功","status":0}
2023-03-10 19:43:24,701:INFO http-nio-8088-exec-2 (LogAop.java:73) - 执行时长：60mm
2023-03-10 19:43:24,720:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-10 19:43:24,767:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-10 19:43:24,767:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：47mm
2023-03-10 19:43:26,162:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-10 19:43:26,166:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1676550385218,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNoteCreateTime":1677926483270,"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteLastModifyTime":1677926483270,"cnNoteStatusId":"1","cnNoteTitle":"232131","cnNoteTypeId":"129","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 19:43:26,166:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：4mm
2023-03-10 19:43:27,395:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-10 19:43:27,408:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnShareBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnShareId":"35f928c9-fb89-4921-ad0b-36df36fefbeb","cnShareTitle":"什么是悲观锁和乐观锁","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","isPersonShare":"N"},{"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnShareBody":"","cnShareId":"d5b50f6e-2fdf-48dd-87f4-2503ba426155","cnShareTitle":"232131","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","isPersonShare":"Y"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 19:43:27,409:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：14mm
2023-03-10 19:43:33,571:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/delShareNote.do,方法:POST,参数:{"serialVersionUID":1,"cnShareId":"d5b50f6e-2fdf-48dd-87f4-2503ba426155"}
2023-03-10 19:43:33,660:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"msg":"笔记取消分享成功","status":0}
2023-03-10 19:43:33,661:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：90mm
2023-03-10 19:43:33,670:INFO http-nio-8088-exec-2 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-10 19:43:33,676:INFO http-nio-8088-exec-2 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnShareBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnShareId":"35f928c9-fb89-4921-ad0b-36df36fefbeb","cnShareTitle":"什么是悲观锁和乐观锁","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","isPersonShare":"N"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 19:43:33,677:INFO http-nio-8088-exec-2 (LogAop.java:73) - 执行时长：7mm
2023-03-10 19:43:42,191:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-10 19:43:42,197:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1676550385218,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNoteCreateTime":1677926483270,"cnNoteId":"d2c41c4f-cb45-4b5e-a875-7be0f826fd03","cnNoteLastModifyTime":1677926483270,"cnNoteStatusId":"1","cnNoteTitle":"232131","cnNoteTypeId":"129","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 19:43:42,198:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：7mm
2023-03-10 19:43:50,579:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/cloudnote/user/login.do,方法:GET,参数:name=hyl111&password=123456
2023-03-10 19:43:50,582:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","msg":"登录成功","status":0}
2023-03-10 19:43:50,582:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：3mm
2023-03-10 19:43:50,688:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-10 19:43:50,695:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-10 19:43:50,696:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：9mm
2023-03-10 19:43:55,268:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-10 19:43:55,274:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-10 19:43:55,274:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：6mm
2023-03-10 19:45:59,186:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-10 19:45:59,193:INFO http-nio-8088-exec-2 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-10 19:45:59,793:INFO http-nio-8088-exec-2 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-10 19:45:59,794:INFO http-nio-8088-exec-2 (LogAop.java:73) - 执行时长：600mm
2023-03-10 19:45:59,826:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-10 19:45:59,827:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：641mm
2023-03-10 19:46:21,159:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-10 19:46:21,163:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-10 19:46:21,175:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-10 19:46:21,175:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：16mm
2023-03-10 19:46:21,178:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-10 19:46:21,179:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：16mm
2023-03-10 20:07:13,759:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/cloudnote/user/login.do,方法:GET,参数:name=hyl129&password=129520
2023-03-10 20:07:13,966:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":"d1a76f6a-073c-4655-a2cc-7d223521d374","msg":"登录成功","status":0}
2023-03-10 20:07:13,967:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：208mm
2023-03-10 20:07:19,840:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24"}
2023-03-10 20:07:19,881:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1660400106741,"cnNoteId":"4e55265d-c473-4786-a1cb-a6fadb2ba50d","cnNoteLastModifyTime":1660400115254,"cnNoteStatusId":"1","cnNoteTitle":"打增量","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400374473,"cnNoteId":"5b74988a-54ae-4f04-a2c7-6c9a648f2dc6","cnNoteLastModifyTime":1660400382628,"cnNoteStatusId":"1","cnNoteTitle":"给A00000SYS配1479模块的权限","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400137554,"cnNoteId":"a53039ac-c9a9-4236-b22e-2317e814f083","cnNoteLastModifyTime":1675216157843,"cnNoteStatusId":"1","cnNoteTitle":"数据库TNS校正版","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400161417,"cnNoteId":"f7a393e7-4197-49e1-9376-c3fac6f2cd65","cnNoteLastModifyTime":1660400167805,"cnNoteStatusId":"1","cnNoteTitle":"跨业务区办理业务","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 20:07:19,882:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：42mm
2023-03-10 20:07:53,414:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadShareNotes.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 20:07:53,518:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnShareBody":"<h2 data-first-child=\"\" style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: 0px; margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">1、什么悲观锁？</span></h2><p data-pid=\"a0kfwqoh\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">顾名思义，悲观锁是基于一种悲观的态度类来防止一切数据冲突，它是以一种预防的姿态在修改数据之前把数据锁住，然后再对数据进行读写，在它释放锁之前任何人都不能对其数据进行操作，直到前面一个人把锁释放后下一个人数据加锁才可对数据进行加锁，然后才可以对数据进行操作，一般数据库本身锁的机制都是基于悲观锁的机制实现的;</p><p data-pid=\"Tc1PxodB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：可以完全保证数据的独占性和正确性，因为每次请求都会先对数据进行加锁， 然后进行数据操作，最后再解锁，而加锁释放锁的过程会造成消耗，所以性能不高;</p><p data-pid=\"y2o4CIfe\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">手动加悲观锁：读锁LOCK tables test_db read释放锁UNLOCK TABLES;</p><p data-pid=\"d6-exGxB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">写锁：LOCK tables test_db WRITE释放锁UNLOCK TABLES;</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic1.zhimg.com/80/v2-9ac6d3ccc056b289863d575fae826384_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"704\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1559\" data-original=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-9ac6d3ccc056b289863d575fae826384_b.jpg\" height=\"704\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><h2 style=\"font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 600; font-stretch: inherit; font-size: 1.2em; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; margin-top: calc(2.33333em); margin-bottom: calc(1.16667em); clear: left; font-synthesis: style; color: rgb(18, 18, 18); white-space: normal;\"><span style=\"font-synthesis: style;\">3、什么是乐观锁？</span></h2><p data-pid=\"EeZlPp0b\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁是对于数据冲突保持一种乐观态度，操作数据时不会对操作的数据进行加锁（这使得多个任务可以并行的对数据进行操作），只有到数据提交的时候才通过一种机制来验证数据是否存在冲突(一般实现方式是通过加版本号然后进行版本号的对比方式实现);</p><p data-pid=\"7JbgvfGk\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">特点：乐观锁是一种并发类型的锁，其本身不对数据进行加锁通而是通过业务实现锁的功能，不对数据进行加锁就意味着允许多个请求同时访问数据，同时也省掉了对数据加锁和解锁的过程，这种方式因为节省了悲观锁加锁的操作，所以可以一定程度的的提高操作的性能，不过在并发非常高的情况下，会导致大量的请求冲突，冲突导致大部分操作无功而返而浪费资源，所以在高并发的场景下，乐观锁的性能却反而不如悲观锁。</p><p data-pid=\"BW1QI3i9\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">乐观锁实现形式：</p><p data-pid=\"B4od1neq\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">表A 字段</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-bc7ca68afd0b4b21b074fc4d7b1d6fba_b.jpg\" height=\"49\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"YNXUXgAV\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">现在有两个请求同时操作表A</p><p data-pid=\"5vNLyys6\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1先查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-5cd684ca5b513391caecfe4fd36dd55e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"532\" data-rawheight=\"25\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"532\" data-original=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-5cd684ca5b513391caecfe4fd36dd55e_b.jpg\" height=\"25\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p data-pid=\"MPOPleVw\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作2也查询出需要检索的数据为：</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic4.zhimg.com/80/v2-cbe60511d276244eca7e70e3610dfe2b_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"26\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"535\" data-original=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-cbe60511d276244eca7e70e3610dfe2b_b.jpg\" height=\"26\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"Kw7utO5L\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">操作1把Name字段数据修改成lisi 比操作2先提交;</p><p data-pid=\"CtK4gsZB\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时提交操作1会把之前查询到的version与现在的数据的version进行比较，版本相同则可以提交，版本不同则视为数据过期：</p><p data-pid=\"T5q0UIhJ\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><span style=\"color: rgb(18, 18, 18);\">SQL语句:</span><span style=\"color:#ff0000\">update A set Name=lisi,version=version+1 where ID=#{id} and version=#{version}</span></p><p data-pid=\"rC-ELchv\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">此时数据库变成了如下</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic2.zhimg.com/80/v2-391bd2c326b3440047aaf36bdfb81ae1_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"536\" data-rawheight=\"21\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"536\" data-original=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-391bd2c326b3440047aaf36bdfb81ae1_b.jpg\" height=\"21\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p class=\"ztext-empty-paragraph\" style=\"margin-top: -0.8em; margin-bottom: -0.8em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><br/></p><p data-pid=\"2pWz1XQn\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">那么最后操作2修改了数据来提交的时候是以操作1同样的方式，当然最后肯定不能提交成功，因为他手里的版本号和现在数据库里的版本号不匹配；</p><p data-pid=\"_qgTzME1\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\">最后盗图一张来解释</p><p><figure data-size=\"normal\" style=\"margin-top: 1.4em; margin-bottom: 1.4em; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: medium; white-space: normal;\"><img src=\"https://pic3.zhimg.com/80/v2-4e4f37cc8e1904713660c9036b8afe7e_720w.webp\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"692\" data-rawheight=\"447\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"692\" data-original=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-4e4f37cc8e1904713660c9036b8afe7e_b.jpg\" height=\"447\" data-lazy-status=\"ok\" style=\"display: block; margin: 0px auto; max-width: 100%; height: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;\"/></figure></p><p><br/></p>","cnShareId":"35f928c9-fb89-4921-ad0b-36df36fefbeb","cnShareTitle":"什么是悲观锁和乐观锁","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","isPersonShare":"Y"}],"msg":"打开分享的笔记成功","status":0}
2023-03-10 20:07:53,518:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：104mm
2023-03-10 20:07:57,389:INFO http-nio-8088-exec-2 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b"}
2023-03-10 20:07:57,399:INFO http-nio-8088-exec-2 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1663250552720,"cnNoteId":"012343e8-1430-480c-9fcb-d9b3e9202175","cnNoteLastModifyTime":1671164690039,"cnNoteStatusId":"1","cnNoteTitle":"Mysql","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1672127653235,"cnNoteId":"027ff9c0-04d8-4ba4-929d-2fa14015cc1c","cnNoteLastModifyTime":1675782565829,"cnNoteStatusId":"1","cnNoteTitle":"vue","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660464780686,"cnNoteId":"0b777323-6452-437d-ba65-5747f02076e7","cnNoteLastModifyTime":1677569008283,"cnNoteStatusId":"1","cnNoteTitle":"测试","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677142719256,"cnNoteId":"125e3ad4-f976-4ca2-bc1d-9367cabf7cfb","cnNoteLastModifyTime":1677142949524,"cnNoteStatusId":"1","cnNoteTitle":"123","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400505590,"cnNoteId":"2f5dd644-5e2e-46c7-aece-682dac026711","cnNoteLastModifyTime":1660400604810,"cnNoteStatusId":"1","cnNoteTitle":"Docker","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1663248262082,"cnNoteId":"34c93b39-a987-43a9-9090-08f21252cac7","cnNoteLastModifyTime":1663249185016,"cnNoteStatusId":"1","cnNoteTitle":"Mybatis","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1676462260654,"cnNoteId":"3ec7d6c7-7e69-4437-875b-8991340ea73e","cnNoteLastModifyTime":1677681812767,"cnNoteStatusId":"1","cnNoteTitle":"云笔记开发及部署","cnNoteTypeId":"129","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660457919280,"cnNoteId":"626c630b-e531-4d32-a407-7a9c741fc89b","cnNoteLastModifyTime":1660463088264,"cnNoteStatusId":"1","cnNoteTitle":"NIO","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400899846,"cnNoteId":"707dcc14-37d6-4d93-8c29-d9a769209fa8","cnNoteLastModifyTime":1660457915248,"cnNoteStatusId":"1","cnNoteTitle":"Netty","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677510300642,"cnNoteId":"80d75d68-941b-4731-8087-c99a09e1128e","cnNoteLastModifyTime":1677567516701,"cnNoteStatusId":"1","cnNoteTitle":"MySQL命令【explain】","cnNoteTypeId":"129","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400752274,"cnNoteId":"a4c0032f-3823-4a14-884e-53e2361d29d7","cnNoteLastModifyTime":1660400764338,"cnNoteStatusId":"1","cnNoteTitle":"IDEA控制台中文乱码解决","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677682104451,"cnNoteId":"acc18f06-103f-4680-b03d-b6276805cb77","cnNoteLastModifyTime":1677682253027,"cnNoteStatusId":"1","cnNoteTitle":"linux设置开机自动同步时间","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400632552,"cnNoteId":"be306253-0f63-4420-9e13-8dd26ef978d8","cnNoteLastModifyTime":1675848834521,"cnNoteStatusId":"1","cnNoteTitle":"Linux常用命令","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1675782579040,"cnNoteId":"edc37b6b-bc38-4053-bb8f-bfc009a76e2e","cnNoteLastModifyTime":1675782579040,"cnNoteStatusId":"1","cnNoteTitle":"面试题目","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 20:07:57,400:INFO http-nio-8088-exec-2 (LogAop.java:73) - 执行时长：11mm
2023-03-10 20:08:00,557:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b"}
2023-03-10 20:08:00,568:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1663250552720,"cnNoteId":"012343e8-1430-480c-9fcb-d9b3e9202175","cnNoteLastModifyTime":1671164690039,"cnNoteStatusId":"1","cnNoteTitle":"Mysql","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1672127653235,"cnNoteId":"027ff9c0-04d8-4ba4-929d-2fa14015cc1c","cnNoteLastModifyTime":1675782565829,"cnNoteStatusId":"1","cnNoteTitle":"vue","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660464780686,"cnNoteId":"0b777323-6452-437d-ba65-5747f02076e7","cnNoteLastModifyTime":1677569008283,"cnNoteStatusId":"1","cnNoteTitle":"测试","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677142719256,"cnNoteId":"125e3ad4-f976-4ca2-bc1d-9367cabf7cfb","cnNoteLastModifyTime":1677142949524,"cnNoteStatusId":"1","cnNoteTitle":"123","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400505590,"cnNoteId":"2f5dd644-5e2e-46c7-aece-682dac026711","cnNoteLastModifyTime":1660400604810,"cnNoteStatusId":"1","cnNoteTitle":"Docker","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1663248262082,"cnNoteId":"34c93b39-a987-43a9-9090-08f21252cac7","cnNoteLastModifyTime":1663249185016,"cnNoteStatusId":"1","cnNoteTitle":"Mybatis","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1676462260654,"cnNoteId":"3ec7d6c7-7e69-4437-875b-8991340ea73e","cnNoteLastModifyTime":1677681812767,"cnNoteStatusId":"1","cnNoteTitle":"云笔记开发及部署","cnNoteTypeId":"129","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660457919280,"cnNoteId":"626c630b-e531-4d32-a407-7a9c741fc89b","cnNoteLastModifyTime":1660463088264,"cnNoteStatusId":"1","cnNoteTitle":"NIO","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400899846,"cnNoteId":"707dcc14-37d6-4d93-8c29-d9a769209fa8","cnNoteLastModifyTime":1660457915248,"cnNoteStatusId":"1","cnNoteTitle":"Netty","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677510300642,"cnNoteId":"80d75d68-941b-4731-8087-c99a09e1128e","cnNoteLastModifyTime":1677567516701,"cnNoteStatusId":"1","cnNoteTitle":"MySQL命令【explain】","cnNoteTypeId":"129","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400752274,"cnNoteId":"a4c0032f-3823-4a14-884e-53e2361d29d7","cnNoteLastModifyTime":1660400764338,"cnNoteStatusId":"1","cnNoteTitle":"IDEA控制台中文乱码解决","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677682104451,"cnNoteId":"acc18f06-103f-4680-b03d-b6276805cb77","cnNoteLastModifyTime":1677682253027,"cnNoteStatusId":"1","cnNoteTitle":"linux设置开机自动同步时间","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400632552,"cnNoteId":"be306253-0f63-4420-9e13-8dd26ef978d8","cnNoteLastModifyTime":1675848834521,"cnNoteStatusId":"1","cnNoteTitle":"Linux常用命令","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1675782579040,"cnNoteId":"edc37b6b-bc38-4053-bb8f-bfc009a76e2e","cnNoteLastModifyTime":1675782579040,"cnNoteStatusId":"1","cnNoteTitle":"面试题目","cnNoteTypeId":"1","cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 20:08:00,569:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：12mm
2023-03-10 20:08:09,432:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/shareNote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"3ec7d6c7-7e69-4437-875b-8991340ea73e"}
2023-03-10 20:08:09,555:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"msg":"分享笔记成功","status":0}
2023-03-10 20:08:09,555:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：123mm
2023-03-10 20:17:29,349:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/cloudnote/user/login.do,方法:GET,参数:name=hyl129&password=129520
2023-03-10 20:17:29,677:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":"d1a76f6a-073c-4655-a2cc-7d223521d374","msg":"登录成功","status":0}
2023-03-10 20:17:29,677:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：328mm
2023-03-10 20:17:29,808:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 20:17:29,819:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1660371295000,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnNotebookName":"数据库","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1677629106000,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnNotebookName":"面试题","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660374794000,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnNotebookName":"学习相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660370018000,"cnNotebookId":"a5d43bed-1980-4b9e-9985-36aee8403305","cnNotebookName":"开发相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660371629000,"cnNotebookId":"ce76fe6e-e604-4ac6-9c1e-df43ad64934b","cnNotebookName":"办公相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记本成功","status":0}
2023-03-10 20:17:29,819:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：11mm
2023-03-10 20:18:31,624:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24"}
2023-03-10 20:18:31,704:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1660400106741,"cnNoteId":"4e55265d-c473-4786-a1cb-a6fadb2ba50d","cnNoteLastModifyTime":1660400115254,"cnNoteStatusId":"1","cnNoteTitle":"打增量","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400374473,"cnNoteId":"5b74988a-54ae-4f04-a2c7-6c9a648f2dc6","cnNoteLastModifyTime":1660400382628,"cnNoteStatusId":"1","cnNoteTitle":"给A00000SYS配1479模块的权限","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400137554,"cnNoteId":"a53039ac-c9a9-4236-b22e-2317e814f083","cnNoteLastModifyTime":1675216157843,"cnNoteStatusId":"1","cnNoteTitle":"数据库TNS校正版","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1660400161417,"cnNoteId":"f7a393e7-4197-49e1-9376-c3fac6f2cd65","cnNoteLastModifyTime":1660400167805,"cnNoteStatusId":"1","cnNoteTitle":"跨业务区办理业务","cnNoteTypeId":"1","cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 20:18:31,705:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：81mm
2023-03-10 20:18:32,732:INFO http-nio-8088-exec-2 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839"}
2023-03-10 20:18:32,736:INFO http-nio-8088-exec-2 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1677629470095,"cnNoteId":"4d6353c8-a73d-4a5f-bd95-3efa5b7dc215","cnNoteLastModifyTime":1677629470095,"cnNoteStatusId":"1","cnNoteTitle":"mybatis一级缓存和二级缓存","cnNoteTypeId":"1","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNoteCreateTime":1677629131083,"cnNoteId":"87005831-631b-4acb-9e25-acfaa70a77b0","cnNoteLastModifyTime":1677629191800,"cnNoteStatusId":"1","cnNoteTitle":"什么是悲观锁和乐观锁","cnNoteTypeId":"129","cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记列表成功","status":0}
2023-03-10 20:18:32,737:INFO http-nio-8088-exec-2 (LogAop.java:73) - 执行时长：6mm
2023-03-10 20:35:41,047:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/cloudnote/user/logout.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 20:35:41,047:INFO http-nio-8088-exec-4 (SendMsgService.java:24) - 消息主题:del_surplus_image_files,消息内容:d1a76f6a-073c-4655-a2cc-7d223521d374
2023-03-10 20:35:41,049:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"msg":"用户退出成功","status":0}
2023-03-10 20:35:41,050:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：3mm
2023-03-10 20:35:41,083:INFO org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1 (DelSurplusImageFiles.java:45) - 消息主题:del_surplus_image_files,消息内容:d1a76f6a-073c-4655-a2cc-7d223521d374
2023-03-10 20:35:41,083:INFO org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1 (DelSurplusImageFiles.java:46) - 消费者正在消费消息...begin...:d1a76f6a-073c-4655-a2cc-7d223521d374
2023-03-10 20:35:41,083:INFO org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1 (DelSurplusImageFiles.java:47) - DelSurplusImageFiles_queueConsumer_del_surplus_image_files:d1a76f6a-073c-4655-a2cc-7d223521d374
2023-03-10 20:35:41,084:INFO org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1 (DelSurplusImageFiles.java:52) - DelSurplusImageFiles_queueConsumer_filePath:/root/hyl/static/image/upload/ueditor/d1a76f6a-073c-4655-a2cc-7d223521d374
2023-03-10 20:35:41,085:INFO org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1 (DelSurplusImageFiles.java:74) - 消费者已消费消息...end...:d1a76f6a-073c-4655-a2cc-7d223521d374
2023-03-10 20:36:30,274:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/cloudnote/user/logout.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 20:36:30,274:INFO http-nio-8088-exec-5 (SendMsgService.java:24) - 消息主题:del_surplus_image_files,消息内容:d1a76f6a-073c-4655-a2cc-7d223521d374
2023-03-10 20:36:30,275:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"msg":"用户退出成功","status":0}
2023-03-10 20:36:30,275:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：1mm
2023-03-10 20:36:42,355:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374","serialVersionUID":1}
2023-03-10 20:36:42,420:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1660371295000,"cnNotebookId":"0fd00ce9-7448-436f-830d-7467ba874c24","cnNotebookName":"数据库","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1677629106000,"cnNotebookId":"3a1ceffa-ac75-4800-8957-faacd1211839","cnNotebookName":"面试题","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660374794000,"cnNotebookId":"689aeca6-80e3-424e-9781-4d30196e615b","cnNotebookName":"学习相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660370018000,"cnNotebookId":"a5d43bed-1980-4b9e-9985-36aee8403305","cnNotebookName":"开发相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"},{"cnNotebookCreatetime":1660371629000,"cnNotebookId":"ce76fe6e-e604-4ac6-9c1e-df43ad64934b","cnNotebookName":"办公相关","cnNotebookTypeId":"5","cnUserId":"d1a76f6a-073c-4655-a2cc-7d223521d374"}],"msg":"加载笔记本成功","status":0}
2023-03-10 20:36:42,420:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：65mm
2023-03-13 11:29:42,654:INFO main (SpringApplication.java:650) - The following profiles are active: dev
2023-03-13 11:29:47,646:INFO main (FileHandleConfig.java:36) - 获取到当前jar的所在路径:D:\workspace-person\cloudnotebook
2023-03-13 11:29:47,647:INFO main (FileHandleConfig.java:37) - 获取到ueditor.filePath所在路径:/root/hyl/static/image/upload/ueditor/
2023-03-13 11:29:55,036:INFO main (StartupInfoLogger.java:59) - Started CloudnoteApplication in 19.855 seconds (JVM running for 24.765)
2023-03-13 11:30:25,959:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-13 11:30:27,429:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNotebookCreatetime":1678459409000,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnNotebookName":"NatApp实现外网访问虚拟机服务","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-13 11:30:27,430:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：1471mm
2023-03-13 11:30:29,769:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 11:30:29,800:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:30:29,800:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：31mm
2023-03-13 11:30:30,990:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 11:30:30,997:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:30:30,997:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：7mm
2023-03-13 11:30:32,027:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 11:30:32,033:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:30:32,033:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：6mm
2023-03-13 11:30:34,797:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 11:30:34,803:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:30:34,804:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：7mm
2023-03-13 11:30:35,878:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 11:30:35,884:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:30:35,885:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：7mm
2023-03-13 11:30:41,653:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 11:30:41,660:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:30:41,660:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：7mm
2023-03-13 11:30:45,853:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 11:30:45,863:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:30:45,864:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：11mm
2023-03-13 11:30:48,990:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 11:30:50,315:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 11:30:50,316:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：1326mm
2023-03-13 11:30:50,430:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 11:30:50,436:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:30:50,436:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：6mm
2023-03-13 11:33:24,161:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 11:33:24,297:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:33:24,297:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：136mm
2023-03-13 11:37:59,343:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-13 11:37:59,447:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNotebookCreatetime":1678459409000,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnNotebookName":"NatApp实现外网访问虚拟机服务","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-13 11:37:59,447:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：104mm
2023-03-13 11:43:15,187:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 11:43:15,603:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:43:15,604:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：417mm
2023-03-13 11:43:15,940:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 11:43:15,958:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:43:15,958:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：18mm
2023-03-13 11:43:16,748:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 11:43:16,756:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:43:16,757:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：9mm
2023-03-13 11:43:17,608:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 11:43:17,614:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:43:17,614:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：6mm
2023-03-13 11:43:25,599:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 11:43:25,605:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 11:43:25,605:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：6mm
2023-03-13 11:43:26,437:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 11:43:26,442:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 11:43:26,442:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：5mm
2023-03-13 11:43:28,229:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 11:43:28,235:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 11:43:28,235:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：6mm
2023-03-13 11:43:28,772:INFO http-nio-8088-exec-2 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 11:43:28,777:INFO http-nio-8088-exec-2 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 11:43:28,778:INFO http-nio-8088-exec-2 (LogAop.java:73) - 执行时长：6mm
2023-03-13 11:43:33,402:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 11:43:33,408:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 11:43:33,408:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：6mm
2023-03-13 11:43:34,284:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 11:43:34,292:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 11:43:34,293:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：9mm
2023-03-13 11:45:14,023:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-13 11:45:14,320:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNotebookCreatetime":1678459409000,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnNotebookName":"NatApp实现外网访问虚拟机服务","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-13 11:45:14,321:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：298mm
2023-03-13 11:45:17,226:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 11:45:17,234:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:45:17,235:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：9mm
2023-03-13 11:45:18,817:INFO http-nio-8088-exec-2 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 11:45:18,822:INFO http-nio-8088-exec-2 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 11:45:18,822:INFO http-nio-8088-exec-2 (LogAop.java:73) - 执行时长：5mm
2023-03-13 11:45:20,587:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 11:45:20,592:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 11:45:20,592:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：5mm
2023-03-13 11:45:23,143:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 11:45:23,148:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 11:45:23,148:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：6mm
2023-03-13 11:45:24,046:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 11:45:24,050:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 11:45:24,050:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：4mm
2023-03-13 11:45:25,619:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 11:45:25,626:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 11:45:25,626:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：7mm
2023-03-13 11:45:26,502:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 11:45:26,506:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 11:45:26,507:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：5mm
2023-03-13 11:45:30,163:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 11:45:30,168:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 11:45:30,168:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：5mm
2023-03-13 11:45:30,939:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 11:45:30,943:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 11:45:30,943:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：4mm
2023-03-13 11:48:47,113:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 11:48:47,211:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:48:47,212:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：99mm
2023-03-13 11:48:47,867:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 11:48:47,886:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:48:47,886:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：19mm
2023-03-13 11:48:51,909:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 11:48:51,915:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:48:51,915:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：6mm
2023-03-13 11:49:54,059:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 11:49:54,131:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:49:54,131:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：72mm
2023-03-13 11:50:17,210:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 11:50:17,217:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:50:17,218:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：8mm
2023-03-13 11:50:17,811:INFO http-nio-8088-exec-2 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 11:50:17,818:INFO http-nio-8088-exec-2 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:50:17,819:INFO http-nio-8088-exec-2 (LogAop.java:73) - 执行时长：8mm
2023-03-13 11:50:22,069:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 11:50:22,074:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:50:22,074:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：5mm
2023-03-13 11:51:22,150:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 11:51:22,188:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 11:51:22,188:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：38mm
2023-03-13 11:53:45,431:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-13 11:53:45,586:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNotebookCreatetime":1678459409000,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnNotebookName":"NatApp实现外网访问虚拟机服务","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-13 11:53:45,586:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：155mm
2023-03-13 11:54:04,219:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-13 11:54:04,227:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNotebookCreatetime":1678459409000,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnNotebookName":"NatApp实现外网访问虚拟机服务","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-13 11:54:04,227:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：8mm
2023-03-13 14:02:17,062:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-13 14:02:17,499:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNotebookCreatetime":1678459409000,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnNotebookName":"NatApp实现外网访问虚拟机服务","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-13 14:02:17,500:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：438mm
2023-03-13 14:02:18,951:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 14:02:18,986:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:02:18,987:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：36mm
2023-03-13 14:02:22,755:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:02:22,763:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:02:22,763:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：8mm
2023-03-13 14:02:28,477:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:02:28,482:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:02:28,482:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：5mm
2023-03-13 14:02:30,709:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:02:30,749:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},"msg":"打开笔记成功","status":0}
2023-03-13 14:02:30,751:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：42mm
2023-03-13 14:02:32,069:INFO http-nio-8088-exec-2 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:02:32,075:INFO http-nio-8088-exec-2 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:02:32,075:INFO http-nio-8088-exec-2 (LogAop.java:73) - 执行时长：6mm
2023-03-13 14:02:37,069:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:02:37,074:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:02:37,074:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：5mm
2023-03-13 14:02:37,958:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:02:37,964:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:02:37,964:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：6mm
2023-03-13 14:07:45,096:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-13 14:07:45,585:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNotebookCreatetime":1678459409000,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnNotebookName":"NatApp实现外网访问虚拟机服务","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-13 14:07:45,585:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：489mm
2023-03-13 14:07:50,744:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-13 14:07:50,754:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNotebookCreatetime":1678459409000,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnNotebookName":"NatApp实现外网访问虚拟机服务","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-13 14:07:50,754:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：10mm
2023-03-13 14:08:59,143:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:08:59,286:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:08:59,287:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：144mm
2023-03-13 14:09:01,392:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:09:01,397:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:09:01,397:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：5mm
2023-03-13 14:09:02,705:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:09:02,710:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:09:02,711:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：6mm
2023-03-13 14:09:03,388:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:09:03,393:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:09:03,394:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：6mm
2023-03-13 14:09:03,921:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:09:03,925:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:09:03,926:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：5mm
2023-03-13 14:09:08,599:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:09:08,606:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:09:08,606:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：7mm
2023-03-13 14:09:11,571:INFO http-nio-8088-exec-2 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:09:11,579:INFO http-nio-8088-exec-2 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:09:11,580:INFO http-nio-8088-exec-2 (LogAop.java:73) - 执行时长：9mm
2023-03-13 14:09:12,558:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:09:12,562:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:09:12,562:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：4mm
2023-03-13 14:09:13,670:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:09:13,674:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:09:13,675:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：5mm
2023-03-13 14:09:14,578:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:09:14,583:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:09:14,584:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：6mm
2023-03-13 14:09:18,185:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:09:18,190:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:09:18,190:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：5mm
2023-03-13 14:09:20,905:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:09:20,911:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:09:20,911:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：6mm
2023-03-13 14:12:16,895:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-13 14:12:16,971:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNotebookCreatetime":1678459409000,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnNotebookName":"NatApp实现外网访问虚拟机服务","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-13 14:12:16,971:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：76mm
2023-03-13 14:14:03,723:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-13 14:14:03,772:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNotebookCreatetime":1678459409000,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnNotebookName":"NatApp实现外网访问虚拟机服务","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-13 14:14:03,772:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：49mm
2023-03-13 14:14:04,666:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:14:04,690:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:14:04,691:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：25mm
2023-03-13 14:14:06,229:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:14:06,235:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:14:06,235:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：6mm
2023-03-13 14:14:07,773:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:14:07,778:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:14:07,779:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：6mm
2023-03-13 14:14:08,710:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:14:08,714:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:14:08,715:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：5mm
2023-03-13 14:16:59,955:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:17:00,025:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:17:00,026:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：72mm
2023-03-13 14:17:01,086:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:17:01,092:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:17:01,093:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：7mm
2023-03-13 14:17:02,556:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:17:02,563:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:17:02,563:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：7mm
2023-03-13 14:17:04,122:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:17:04,144:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:17:04,145:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：23mm
2023-03-13 14:17:06,222:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:17:06,228:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:17:06,228:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：6mm
2023-03-13 14:17:08,006:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:17:08,012:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:17:08,012:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：6mm
2023-03-13 14:17:11,413:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 14:17:11,418:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:17:11,418:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：5mm
2023-03-13 14:17:12,347:INFO http-nio-8088-exec-2 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 14:17:12,352:INFO http-nio-8088-exec-2 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:17:12,352:INFO http-nio-8088-exec-2 (LogAop.java:73) - 执行时长：5mm
2023-03-13 14:17:15,192:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 14:17:15,196:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 14:17:15,196:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：4mm
2023-03-13 14:17:16,424:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 14:17:16,429:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 14:17:16,429:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：5mm
2023-03-13 14:17:18,315:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 14:17:18,319:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 14:17:18,319:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：4mm
2023-03-13 14:17:20,055:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 14:17:20,059:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 14:17:20,060:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：5mm
2023-03-13 14:17:22,195:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:17:22,201:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:17:22,201:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：6mm
2023-03-13 14:17:24,282:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:17:24,297:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:17:24,297:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：15mm
2023-03-13 14:17:26,049:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:17:26,054:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:17:26,055:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：6mm
2023-03-13 14:18:24,095:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-13 14:18:24,132:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNotebookCreatetime":1678459409000,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnNotebookName":"NatApp实现外网访问虚拟机服务","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-13 14:18:24,133:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：38mm
2023-03-13 14:18:27,155:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:18:27,161:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:18:27,161:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：6mm
2023-03-13 14:18:28,415:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:18:28,419:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:18:28,420:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：6mm
2023-03-13 14:18:29,189:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:18:29,194:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:18:29,195:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：6mm
2023-03-13 14:18:31,002:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:18:31,007:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:18:31,008:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：6mm
2023-03-13 14:18:33,628:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:18:33,633:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:18:33,633:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：5mm
2023-03-13 14:19:11,541:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac"}
2023-03-13 14:19:11,546:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\">一、场景</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">常规情况下本地电脑上的服务只能在局域网内访问，外网是访问不到的，但是在开发过程中有时候需要在外网访问本地电脑上的服务进行调试，这时候就需要做内网穿透。可通过NATAPP来实现，该工具能够将内网ip映射到外网上，从而实现外网访问内网，操作很简单，注册即可使用其提供的免费服务。</p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_5\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>二、注册</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">官网地址 https://natapp.cn/</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在官网首页点击注册，填写注册信息即可</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105542890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">注意注册后要进行实名验证，验证后才能获取<code style=\"margin: 0px; padding: 0px;\">authtoken</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106105906803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"authtoken_17\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>三、获取免费authtoken</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在&nbsp;<code style=\"margin: 0px; padding: 0px;\">购买隧道</code>&nbsp;中申请免费隧道，本地端口根据自己的实际需要配置，我这里配成<code style=\"margin: 0px; padding: 0px;\">8080</code>，让外网地址映射到本地的<code style=\"margin: 0px; padding: 0px;\">8080</code>端口</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110006107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">我的隧道</code>中找到申请的免费隧道，复制<code style=\"margin: 0px; padding: 0px;\">authtoken</code>值&nbsp;<code style=\"margin: 0px; padding: 0px;\">26af3ecb7c03342d</code>，运行客户端时要用到</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110148174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_26\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>四、下载客户端</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">下载地址在首页就可以找到，根据自己的需要选择下载，这里我下载的是Windows 64位的包</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110241303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/><br/>下载之后，解压至任意目录，得到<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code></p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110305694.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_34\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>五、运行</h4><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">在<code style=\"margin: 0px; padding: 0px;\">natapp.exe</code>所在目录下打开<code style=\"margin: 0px; padding: 0px;\">cmd</code>命令行，执行如下命令运行，<code style=\"margin: 0px; padding: 0px;\">authtoken</code>要换成自己申请的</p><pre style=\"margin-bottom: 20px; padding: 10px 20px; height: auto; border-color: rgb(226, 226, 226); background: rgb(247, 247, 247); font-family: Consolas, monospace; color: rgb(0, 0, 0); font-size: 16px;\"><code class=\"prism language-shell\" style=\"margin: 0px;\">natapp -authtoken<span class=\"token operator\" style=\"margin: 0px; padding: 0px;\">=</span>26af3ecb7c03342d</code></pre><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106111016697.png#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; text-indent: 2em; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\">启动成功后如下图所示，http://wux8zt.natappfree.cc 即为外网地址，该地址映射到本地电脑的 127.0.0.1:8080，外网可通过该外网地址访问本地电脑上的服务</p><p class=\"arcImgP\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0.5em 0px; color: rgb(68, 68, 68); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; white-space: normal;\"><img referrerpolicy=\"no-referrer\" src=\"https://img-blog.csdnimg.cn/20201106110543854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb3JvbmdrZQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" style=\"margin: 0px; padding: 0px; border-width: initial; border-style: none; vertical-align: top; max-width: 770px; height: auto; overflow: hidden;\"/></p><h4 style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑, &quot;Microsoft YaHei UI&quot;; font-size: 16px; white-space: normal;\"><a id=\"_48\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0);\" href=\"http://\"></a>六、测试</h4><p><img src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\" _src=\"http://e94rsb.natappfree.cc/cloudnote-admin/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1678459480633_10037_image.png\"/></p>","cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务"},"msg":"打开笔记成功","status":0}
2023-03-13 14:19:11,546:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：5mm
2023-03-13 14:19:43,640:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:19:43,650:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:19:43,651:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：11mm
2023-03-13 14:23:46,706:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:23:46,975:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:23:46,976:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：270mm
2023-03-13 14:23:50,630:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:23:50,647:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:23:50,648:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：18mm
2023-03-13 14:24:15,543:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:24:15,555:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:24:15,556:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：13mm
2023-03-13 14:24:18,004:INFO http-nio-8088-exec-2 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:24:18,015:INFO http-nio-8088-exec-2 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:24:18,016:INFO http-nio-8088-exec-2 (LogAop.java:73) - 执行时长：12mm
2023-03-13 14:24:42,813:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:24:42,822:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:24:42,823:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：10mm
2023-03-13 14:24:45,296:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:24:45,309:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:24:45,309:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：13mm
2023-03-13 14:25:11,984:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:25:11,992:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:25:11,992:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：8mm
2023-03-13 14:25:42,536:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:25:42,545:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:25:42,546:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：10mm
2023-03-13 14:25:44,109:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:25:44,116:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:25:44,116:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：7mm
2023-03-13 14:26:34,597:INFO http-nio-8088-exec-2 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:26:34,605:INFO http-nio-8088-exec-2 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:26:34,605:INFO http-nio-8088-exec-2 (LogAop.java:73) - 执行时长：8mm
2023-03-13 14:26:49,641:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-13 14:26:49,710:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNotebookCreatetime":1678459409000,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnNotebookName":"NatApp实现外网访问虚拟机服务","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-13 14:26:49,711:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：70mm
2023-03-13 14:33:12,947:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-13 14:33:13,310:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNotebookCreatetime":1678459409000,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnNotebookName":"NatApp实现外网访问虚拟机服务","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-13 14:33:13,311:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：364mm
2023-03-13 14:38:35,286:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-13 14:38:36,676:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNotebookCreatetime":1678459409000,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnNotebookName":"NatApp实现外网访问虚拟机服务","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-13 14:38:36,676:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：1390mm
2023-03-13 14:40:15,930:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-13 14:40:15,972:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNotebookCreatetime":1678459409000,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnNotebookName":"NatApp实现外网访问虚拟机服务","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-13 14:40:15,973:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：43mm
2023-03-13 14:46:06,984:INFO http-nio-8088-exec-6 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-13 14:46:07,548:INFO http-nio-8088-exec-6 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNotebookCreatetime":1678459409000,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnNotebookName":"NatApp实现外网访问虚拟机服务","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-13 14:46:07,548:INFO http-nio-8088-exec-6 (LogAop.java:73) - 执行时长：564mm
2023-03-13 14:48:59,422:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-13 14:48:59,938:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1675781343000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"sdfsd","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNotebookCreatetime":1678459409000,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnNotebookName":"NatApp实现外网访问虚拟机服务","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-13 14:48:59,939:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：517mm
2023-03-13 14:49:01,069:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 14:49:01,075:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:49:01,076:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：7mm
2023-03-13 14:49:08,809:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/renameBook.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"1234"}
2023-03-13 14:49:08,859:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"msg":"笔记本重命名成功","status":0}
2023-03-13 14:49:08,859:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：50mm
2023-03-13 14:49:08,915:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-13 14:49:08,922:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1678661348000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"1234","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNotebookCreatetime":1678459409000,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnNotebookName":"NatApp实现外网访问虚拟机服务","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-13 14:49:08,923:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：8mm
2023-03-13 14:49:12,517:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 14:49:12,522:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:49:12,522:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：5mm
2023-03-13 14:49:15,466:INFO http-nio-8088-exec-8 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:49:15,472:INFO http-nio-8088-exec-8 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:49:15,472:INFO http-nio-8088-exec-8 (LogAop.java:73) - 执行时长：6mm
2023-03-13 14:49:16,263:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 14:49:16,268:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:49:16,268:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：5mm
2023-03-13 14:49:17,674:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadnote.do,方法:POST,参数:{"serialVersionUID":1,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1"}
2023-03-13 14:49:17,678:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":{"cnNoteBody":"<p>sdfsdf</p><p><img src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\" _src=\"http://192.168.150.133:8088/image/upload/ueditor/01de7842-635c-46a9-b0c1-89ba4cc1c5d0/1676550381924_10025_image.png\"/></p>","cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteTitle":"11"},"msg":"打开笔记成功","status":0}
2023-03-13 14:49:17,678:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：4mm
2023-03-13 14:49:19,125:INFO http-nio-8088-exec-3 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 14:49:19,130:INFO http-nio-8088-exec-3 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:49:19,131:INFO http-nio-8088-exec-3 (LogAop.java:73) - 执行时长：5mm
2023-03-13 14:49:21,154:INFO http-nio-8088-exec-4 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:49:21,160:INFO http-nio-8088-exec-4 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:49:21,160:INFO http-nio-8088-exec-4 (LogAop.java:73) - 执行时长：6mm
2023-03-13 14:49:22,035:INFO http-nio-8088-exec-5 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:49:22,041:INFO http-nio-8088-exec-5 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:49:22,041:INFO http-nio-8088-exec-5 (LogAop.java:73) - 执行时长：6mm
2023-03-13 14:49:28,288:INFO http-nio-8088-exec-7 (LogAop.java:66) - 请求URI:/notebook/loadbooks.do,方法:POST,参数:{"cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0","serialVersionUID":1}
2023-03-13 14:49:28,306:INFO http-nio-8088-exec-7 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNotebookCreatetime":1678661348000,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnNotebookName":"1234","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"},{"cnNotebookCreatetime":1678459409000,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnNotebookName":"NatApp实现外网访问虚拟机服务","cnNotebookTypeId":"5","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记本成功","status":0}
2023-03-13 14:49:28,307:INFO http-nio-8088-exec-7 (LogAop.java:73) - 执行时长：19mm
2023-03-13 14:49:29,838:INFO http-nio-8088-exec-9 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"38276410-d58c-4256-b792-a23de019903c"}
2023-03-13 14:49:29,842:INFO http-nio-8088-exec-9 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1675781469649,"cnNoteId":"8f6e8f10-16a9-453a-aef1-21082eb497d1","cnNoteLastModifyTime":1678459400097,"cnNoteStatusId":"1","cnNoteTitle":"11","cnNoteTypeId":"1","cnNotebookId":"38276410-d58c-4256-b792-a23de019903c","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:49:29,842:INFO http-nio-8088-exec-9 (LogAop.java:73) - 执行时长：4mm
2023-03-13 14:49:30,516:INFO http-nio-8088-exec-10 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 14:49:30,521:INFO http-nio-8088-exec-10 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 14:49:30,521:INFO http-nio-8088-exec-10 (LogAop.java:73) - 执行时长：5mm
2023-03-13 14:57:20,948:INFO main (SpringApplication.java:650) - The following profiles are active: dev
2023-03-13 14:57:25,356:INFO main (FileHandleConfig.java:36) - 获取到当前jar的所在路径:D:\workspace-person\cloudnotebook
2023-03-13 14:57:25,356:INFO main (FileHandleConfig.java:37) - 获取到ueditor.filePath所在路径:/root/hyl/static/image/upload/ueditor/
2023-03-13 14:57:33,465:INFO main (StartupInfoLogger.java:59) - Started CloudnoteApplication in 17.99 seconds (JVM running for 21.181)
2023-03-13 15:01:40,996:INFO http-nio-8088-exec-1 (LogAop.java:66) - 请求URI:/notebook/loadnotes.do,方法:POST,参数:{"serialVersionUID":1,"cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee"}
2023-03-13 15:01:41,778:INFO http-nio-8088-exec-1 (LogAop.java:70) - 请求结束，返回参数:{"data":[{"cnNoteCreateTime":1678459444716,"cnNoteId":"49fd68c2-54a8-46d6-bf79-d3af17ff1bac","cnNoteLastModifyTime":1678459484771,"cnNoteStatusId":"1","cnNoteTitle":"NATAPP 内网穿透 外网访问内网服务","cnNoteTypeId":"1","cnNotebookId":"b9bb8328-2e4f-40d1-bd05-84c9f0a15aee","cnUserId":"01de7842-635c-46a9-b0c1-89ba4cc1c5d0"}],"msg":"加载笔记列表成功","status":0}
2023-03-13 15:01:41,779:INFO http-nio-8088-exec-1 (LogAop.java:73) - 执行时长：782mm
